// src/data/spells/level2.ts
import type { SpellDefinition } from '../../types/Spell';

export const LEVEL_2_SPELLS: SpellDefinition[] = [
  // ==========================================
  // 防护系 (Abjuration)
  // ==========================================
  {
    id: 'aid',
    name: '援助术',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一条白色的小布条' },
    concentration: false,
    duration: '8 小时',
    target: '30尺内至多3个生物',
    attackType: 'none',
    description: '<p>你的法术给予你的盟友坚韧与决心。选择射程内至多三个生物。在法术持续期间，每个目标的生命值上限和当前生命值增加 5 点。</p>',
    scaling: '3环及以上(每高一环增加5点生命值)',
    classes: ['cleric', 'paladin'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'arcane_lock',
    name: '奥术锁',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '价值至少25gp的金粉，法术会消耗掉' },
    concentration: false,
    duration: '直到被解除',
    target: '一扇门、窗或容器',
    attackType: 'none',
    description: '<p>你触碰一扇关闭的门、窗、大门、箱子或其他通道入口，使其在法术持续时间内被魔法锁住。你和你在施法时指定的生物可以正常打开该物体。你还可以设定一个口令，当在物体 5 尺内说出口令时，该法术会被压制 1 分钟。</p><p>除此之外，该物体不可通行，直到它被破坏，或者法术被解除或压制。对该物体施展<i>敲击术 (Knock)</i> 可以压制奥术锁 10 分钟。受术期间，该物体更难被破坏或强行打开；破坏它或撬锁的 DC 增加 10。</p>',
    scaling: '无',
    classes: ['wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'lesser_restoration',
    name: '次级复原术',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你触碰一个生物，并以此结束一种影响着该生物的疾病或状态。该状态必须是目盲、耳聋、麻痹或中毒。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'pass_without_trace',
    name: '行影无踪',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '燃烧过的槲寄生叶灰烬和一枝云杉' },
    concentration: true,
    duration: '1 小时',
    target: '自身(30尺半径)',
    attackType: 'none',
    description: '<p>阴影与寂静之幕从你身上散发出来，将你和你的同伴行踪隐藏起来。在法术持续期间，你周围 30 尺内你选择的每个生物（包括你）在敏捷（隐匿）检定中具有 +10 加值，且除非使用魔法手段否则无法被追踪。获得该加值的生物经过之后不会留下足迹或其他痕迹。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'protection_from_poison',
    name: '防护毒素',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你触碰一个生物。如果它已中毒，则你中和该毒素。如果有多种毒素影响该目标，则你中和一种你知道的毒素，否则随机中和一种。</p><p>在法术持续期间，目标对中毒状态的豁免检定具有优势，且对毒素伤害具有抗性。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'paladin', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'warding_bond',
    name: '护卫之瑞',
    level: 2,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一对铂金戒指，每只价值至少50gp，你和目标必须在法术持续期间佩戴' },
    concentration: false,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>该法术为你触碰的一个自愿生物提供守护，并在你与目标之间创造一种神秘的连接。只要目标在你 60 尺内，其 AC 和豁免检定获得 +1 加值，且对所有伤害具有抗性。此外，每当它受到伤害时，你受到同等数值的伤害。</p><p>如果你降至 0 生命值，或者你与目标的距离超过 60 尺，法术随之结束。如果该法术再次被施展于任何一一方，法术也会结束。你也可以用一个动作解消该法术。</p>',
    scaling: '无',
    classes: ['cleric', 'paladin'],
    cantripScaling: false
  },

  // ==========================================
  // 咒法系 (Conjuration)
  // ==========================================
  {
    id: 'cloud_of_daggers',
    name: '匕首之云',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一片玻璃碎片' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺立方区域',
    attackType: 'none',
    damage: '4d4',
    damageType: 'slashing',
    description: '<p>你在射程内你选择的一点周围 5 尺立方的空间内填满飞旋的匕首。如果有生物在一个回合内第一次进入该法术区域，或者在区域内开始其回合，则该生物受到 4d4 点挥砍伤害。</p>',
    scaling: '3环及以上(每高一环伤害+2d4)',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'dust_devil',
    name: '尘卷风',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一撮灰尘' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺立方区域',
    attackType: 'save',
    saveAttr: 'str',
    damage: '1d8',
    damageType: 'bludgeoning',
    description: '<p>你在射程内选择一处可见的 5 尺立方未被占据空间，唤来一股元素之力形成尘卷风。如果有生物在其回合结束时位于尘卷风 5 尺内，必须进行一次力量豁免。失败则受到 1d8 点钝击伤害并被推离尘卷风 10 尺。成功则伤害减半且不被推离。</p><p>你可以用附赠动作使尘卷风向任意方向移动至多 30 尺。如果尘卷风经过沙子、尘土、松散泥土或碎石区域，它会吸起材料并在其自身周围形成 10 尺半径的碎屑云，造成重度遮蔽，直到你的下个回合开始。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'find_steed',
    name: '寻获坐骑',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '10 分钟',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '召唤一只精魂坐骑',
    attackType: 'none',
    description: '<p>你召唤一个精魂，它化身为一种异常聪明、强壮且忠诚的坐骑，并与你建立长久的羁绊。坐骑出现在射程内一处未被占据的空间，形态由你选择：战马、矮种马、骆驼、麋鹿或獒犬（或其他DM允许的动物）。该坐骑拥有对应形态的数据，但其生物类型是天界、精类或邪魔（由你选择）。如果你的坐骑智力为 5 或更低，它的智力变为 6，并获得理解一种你所说语言的能力。</p><p>你在骑乘时，施展任何只以你自己为目标的法术时，也可以同时以该坐骑为目标。</p>',
    scaling: '无',
    classes: ['paladin'],
    cantripScaling: false
  },
  {
    id: 'flaming_sphere',
    name: '烈焰法球',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一点牛油、一小撮硫磺和少许铁粉' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺直径球体',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '2d6',
    damageType: 'fire',
    description: '<p>一个直径 5 尺的火球出现在射程内你选择的一处未被占据空间。任何在其回合结束时位于火球 5 尺内的生物必须进行一次敏捷豁免。失败者受到 2d6 点火焰伤害，成功者减半。</p><p>你可以用附赠动作让火球向任意方向移动至多 30 尺。如果你让火球撞向一个生物，该生物必须对火球伤害进行豁免，且火球在该回合停止移动。火球可以跨越至多 5 尺高的障碍物或 10 尺宽的坑洞。它会点燃未被穿戴或携带的易燃物，并发出 20 尺明亮光照和额外 20 尺微暗光照。</p>',
    scaling: '3环及以上(每高一环伤害+1d6)',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'healing_spirit',
    name: '治愈之魂',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '5尺立方区域',
    attackType: 'none',
    damage: '1d6', // 治疗
    description: '<p>你唤来一个自然精魂抚慰伤者。精魂出现在射程内你可见的一处 5 尺立方空间，外形如透明的野兽或精类。直到法术结束前，当你或一个你可见的生物在回合内第一次进入精魂空间，或在其内开始回合时，你可以让精魂为该生物恢复 1d6 生命值（无须动作）。精魂无法治疗构装体或不死生物。</p><p>精魂可治疗的次数等于 1 + 你的施法关键属性调整值（至少 2 次）。治疗次数耗尽后精魂消失。你可用附赠动作将精魂移动至多 30 尺。</p>',
    scaling: '3环及以上(每高一环治疗量+1d6)',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'misty_step',
    name: '迷踪步',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '自身',
    attackType: 'none',
    description: '<p>你被银色的薄雾短暂包围，随后传送至多 30 尺远的一处你看得见的未被占据空间。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'summon_beast',
    name: '召唤野兽',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一根羽毛、一撮毛发和一条鱼尾，装在一个价值至少200gp的镀金橡果内' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一只野兽精魂',
    attackType: 'none',
    description: '<p>你唤来一个野兽精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“野兽精魂”的数据板。施法时，你选择环境：空中、陆地或水中。该生物外形类似你选择的该环境原生动物。当其生命值降至 0 或法术结束时消失。</p><p>该生物对你和你的同伴为友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。如果你不发令，它只执行闪避动作并避开危险。</p>',
    scaling: '3环及以上(提升精魂数据板中的等级)',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'web',
    name: '蛛网术',
    level: 2,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一点蜘蛛网' },
    concentration: true,
    duration: '1 小时',
    target: '20尺立方区域',
    attackType: 'save',
    saveAttr: 'dex',
    description: '<p>你在射程内一点唤出大量粘稠的蛛网。蛛网在法术持续期间填充该点周围 20 尺立方的区域。该区域为困难地形，且属于轻度遮蔽。</p><p>如果蛛网没有固定在两个固体之间（如墙壁或树木），或没有铺在地面、墙面或天花板上，则会塌缩并在你下个回合开始时消失。在蛛网中开始其回合或在回合内进入蛛网的生物必须进行敏捷豁免，失败则被束缚。被束缚的生物可以用动作进行力量检定对抗你的法术DC，成功则挣脱。</p><p>蛛网易燃。任何 5 尺立方的蛛网暴露在火中会在 1 轮内烧毁，并对其中的生物造成 2d4 火焰伤害。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },

  // ==========================================
  // 预言系 (Divination)
  // ==========================================
  {
    id: 'augury',
    name: '占卜术',
    level: 2,
    school: 'divination',
    ritual: true,
    castingTime: '1 分钟',
    range: '自身',
    components: { v: true, s: true, m: '有特殊标记的木棍、骨头或类似衍生物，价值至少25gp' },
    concentration: false,
    duration: '立即',
    target: '自身',
    attackType: 'none',
    description: '<p>通过投掷镶嵌宝石的木棍、滚动龙骨、抽取华丽的卡牌或其他占卜工具，你从一个异界存在那里获得关于你在接下来 30 分钟内计划采取的特定行动结果的预兆。DM 从以下可能的预兆中选择：</p><ul><li><b>吉 (Weal)</b>：预示好结果</li><li><b>凶 (Woe)</b>：预示坏结果</li><li><b>吉凶参半 (Weal and woe)</b>：预示好坏参半的结果</li><li><b>无 (Nothing)</b>：预示结果不特别好也不特别坏</li></ul><p>该法术不考虑任何可能改变结果的情况（如施放额外法术或同伴的得失）。如果你在完成下一次长休前施放此法术两次或更多次，除第一次外，每次施放都有 25% 的累积几率获得随机读取结果（由DM暗骰决定）。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'wizard'], // 包含塔莎扩展
    cantripScaling: false
  },
  {
    id: 'beast_sense',
    name: '野兽知觉',
    level: 2,
    school: 'divination',
    ritual: true,
    castingTime: '1 动作',
    range: '触及',
    components: { v: false, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '一只自愿的野兽',
    attackType: 'none',
    description: '<p>你触碰一只自愿的野兽。在法术持续期间，你可以用你的动作通过野兽的眼睛看，听它所听到的，直到你用动作恢复正常感官。在通过野兽感官感知期间，你获得该生物拥有的任何特殊感官益处，但你对自己周围的环境视为目盲和耳聋。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'detect_thoughts',
    name: '侦测思想',
    level: 2,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一枚铜币' },
    concentration: true,
    duration: '1 分钟',
    target: '自身(30尺半径)',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>在法术持续期间，你可以读取某些生物的思想。施法时以及后续每回合作为动作，你可以将意识集中在 30 尺内你可见的一个生物上。智力为 3 或更低，或不懂任何语言的生物不受影响。</p><p>起初你只能得知该生物的表层思想（即它当前最关注的事）。你可以用动作将注意力转移到另一个生物，或尝试深入探究当前目标的思想。若深入探究，目标需进行感知豁免。失败则你能洞悉其推理、情绪状态及当前心中关注的大事。无论豁免是否成功，目标都会知道你在探究其思想。作为对抗，它可以行动进行智力检定对抗你的智力检定来结束法术。</p><p>你也可以用此法术侦测 30 尺内不可见的思考生物的位置，但会被 2 尺厚的岩石、2 寸厚的非铅金属或任何厚度的铅阻挡。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'find_traps',
    name: '寻找陷阱',
    level: 2,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '120尺视线范围',
    attackType: 'none',
    description: '<p>你感知到射程视线范围内是否存在陷阱。在此法术中，陷阱指任何由制造者有意设置的、会造成突然或意外有害效果的装置（如<i>警报术</i>、<i>守卫刻文</i>或机械陷坑）。但不包括天然的地板弱点或不稳的这类自然隐患。</p><p>该法术仅揭示陷阱的存在和大致危险性质，你无法得知每个陷阱的具体位置。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'locate_animals_or_plants',
    name: '定位动植物',
    level: 2,
    school: 'divination',
    ritual: true,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一撮寻血猎犬的皮毛' },
    concentration: false,
    duration: '立即',
    target: '自身(5英里半径)',
    attackType: 'none',
    description: '<p>描述或命名一种特定的野兽或植物。通过专注感知周围自然的声响，你得知 5 英里内最近的该类生物或植物的方向和距离（若存在）。</p>',
    scaling: '无',
    classes: ['bard', 'druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'locate_object',
    name: '定位物体',
    level: 2,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一根分叉的树枝' },
    concentration: true,
    duration: '10 分钟',
    target: '自身(1000尺半径)',
    attackType: 'none',
    description: '<p>描述或命名一件你熟悉的物体。只要该物体在你周围 1,000 尺内，你就能感知到其方向。如果物体在移动，你知道其移动方向。</p><p>该法术可以定位你曾近距离（30尺内）见过的特定物体，也可以定位某种特定类型的最近物体（如某种服装、珠宝、家具、工具或武器）。如果物体被任何厚度的铅层阻挡，法术无效。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'mind_spike',
    name: '心灵刺',
    level: 2,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: false, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    damage: '3d8',
    damageType: 'psychic',
    description: '<p>你侵入射程内一个你看得见的生物的心灵。目标必须进行一次感知豁免，失败则受到 3d8 点心灵伤害，成功则伤害减半。若豁免失败，只要你们处于同一位面，你在法术持续期间就能确知目标的位置。在此期间，目标无法对你隐藏，且如果它是隐形的，对你也不具有隐形带来的增益。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'see_invisibility',
    name: '识破隐形',
    level: 2,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一撮滑石粉和少量银粉' },
    concentration: false,
    duration: '1 小时',
    target: '自身',
    attackType: 'none',
    description: '<p>在法术持续期间，你能够看到隐形的生物和物体，就如同它们是可见的一样。此外，你还能看到以太位面。以太生物和物体看起来是鬼魂般半透明的。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 惑控系 (Enchantment)
  // ==========================================
  {
    id: 'animal_messenger',
    name: '动物信使',
    level: 2,
    school: 'enchantment',
    ritual: true,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一点食物' },
    concentration: false,
    duration: '24 小时',
    target: '一只微型野兽',
    attackType: 'none',
    description: '<p>你利用一只野兽来传递信息。选择射程内你可见的一只微型野兽（如松鼠、蓝松鸦或蝙蝠）。你需要指定一个你曾经去过的地点，以及一个符合一般描述的收件人（如“穿着城镇卫兵制服的男人或女人”或“戴尖帽子的红发矮人”）。你还要说出一段不超过 25 个词的信息。目标野兽会在法术持续期间飞向指定地点。飞行生物每 24 小时可飞行 50 英里，其他动物为 25 英里。</p><p>当信使到达时，它会向符合描述的生物复述你的声音传达信息。如果没有在法术结束前到达目的地，信息丢失，野兽会返回施法点。</p>',
    scaling: '3环及以上(每高一环持续时间+48小时)',
    classes: ['bard', 'druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'calm_emotions',
    name: '安定心神',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '20尺半径球状区域',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你试图压制一群人的强烈情绪。射程内你选择的一点周围 20 尺半径球状区域内的每个类人生物都必须进行魅力豁免（生物可自愿选择失败）。若失败，你从以下两种效果中选择一种：</p><ul><li>你可以压制造成目标被魅惑或恐慌的任何效果。当法术结束时，被压制的效果如果时间未到则恢复作用。</li><li>你可以让目标对你选择的生物变得冷漠（不再敌对）。如果目标受到攻击、被法术伤害或目睹朋友受害，冷漠即刻终止。</li></ul>',
    scaling: '无',
    classes: ['bard', 'cleric'],
    cantripScaling: false
  },
  {
    id: 'crown_of_madness',
    name: '狂乱之冠',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个类人生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>射程内你可见的一个类人生物必须通过感知豁免，否则在法术持续期间被你魅惑。受术者头上出现一顶扭曲的锯齿铁冠，双眼散发疯狂光芒。</p><p>被魅惑的目标必须在它的每个回合移动前用其动作对其触及范围内除它自己以外的一个生物发动近战攻击（由你精神指定）。如果你不指定或没人在其触及范围内，它可以正常行动。在你后续的回合，你必须用动作维持控制，否则法术结束。目标在回合结束时可再做感知豁免，成功则法术结束。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'enthrall',
    name: '迷织',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '1 分钟',
    target: '多个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你编织出一串令人分心的话语。射程内你能看见且能听到你声音的生物必须进行感知豁免。免疫魅惑的生物自动成功。如果你或你的同伴正在攻击该生物，其豁免具有优势。失败者在法术持续期间，用于察觉除你以外生物的感知（察觉）检定具有劣势。如果你陷入失能或无法说话，法术结束。</p>',
    scaling: '无',
    classes: ['bard', 'warlock'],
    cantripScaling: false
  },
  {
    id: 'hold_person',
    name: '人类定身术',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一块扁平小铁片' },
    concentration: true,
    duration: '1 分钟',
    target: '一个类人生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>选择射程内你可见的一个类人生物。目标必须通过感知豁免，否则被麻痹。在它的每个回合结束时，它可以再次进行感知豁免，成功则法术结束。</p>',
    scaling: '3环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'cleric', 'druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'suggestion',
    name: '暗示术',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: '一条蛇的舌头和一块蜂巢或一滴甜油' },
    concentration: true,
    duration: '8 小时',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你对射程内一个你看得见且能听懂你话语的生物提出一项行动建议（限一两句话）。免疫魅惑的生物免疫此效。建议必须听起来合理（如让其自残会直接导致法术失败）。</p><p>目标需进行感知豁免。失败则由于受法术影响而尽力执行该建议。建议的活动可以持续整个法术期间。如果活动能在较短时间内完成，则法术在活动完成时结束。如果你或你的同伴伤害了目标，法术结束。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'tashas_mind_whip',
    name: '塔莎精神鞭笞',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '1 轮',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'int',
    damage: '3d6',
    damageType: 'psychic',
    description: '<p>你用心灵能量鞭笞射程内一个你看得见的生物。目标必须进行智力豁免。失败则受到 3d6 点心灵伤害，且直到其下个回合结束前无法进行反应。此外，在其下个回合，它必须在移动、动作或附赠动作中三选一，而不能做多项。豁免成功则伤害减半且无其他效果。</p>',
    scaling: '3环及以上(每高一环多指定一个目标)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'zone_of_truth',
    name: '诚实之域',
    level: 2,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '10 分钟',
    target: '15尺半径球状区域',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你在射程内创造出一个 15 尺半径的魔法区域，防止欺瞒。任何生物在回合内首次进入或在其中开始回合必须进行魅力豁免。失败者在区域内无法故意说谎。你知道每个生物是否通过了豁免。</p><p>受影响的生物会意识到这一法术，因此可以回避回答问题。只要其陈述在字面上是真实的，它可以以此方式进行闪烁其词的回答。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'paladin'],
    cantripScaling: false
  },

  // ==========================================
  // 塑能系 (Evocation)
  // ==========================================
  {
    id: 'aganazzars_scorcher',
    name: '阿迦纳萨喷火术',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一片红龙鳞' },
    concentration: false,
    duration: '立即',
    target: '30尺线状区域',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '3d8',
    damageType: 'fire',
    description: '<p>一道咆哮的烈焰从你身上喷出，形成一条 30 尺长、5 尺宽的线状区域。区域内的每个生物必须进行敏捷豁免。失败者受到 3d8 点火焰伤害，成功者减半。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'branding_smite',
    name: '烙印斩',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '下一次武器攻击击中的生物',
    attackType: 'none',
    damage: '2d6',
    damageType: 'radiant',
    description: '<p>在法术结束前，你下一次用武器攻击命中生物时，武器会闪烁着星界光辉。该次攻击对目标造成额外 2d6 点光耀伤害。如果目标处于隐形状态，它将变为可见。此外，目标周围 5 尺半径内发出微暗光照，且在法术结束前无法隐形。</p>',
    scaling: '3环及以上(每高一环伤害+1d6)',
    classes: ['paladin'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'continual_flame',
    name: '不灭明焰',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '价值50gp的红宝石粉，法术会消耗掉' },
    concentration: false,
    duration: '永久',
    target: '一个物体',
    attackType: 'none',
    description: '<p>你触碰一件物体，一团亮度等同于火把的火焰从该物体上冒出。该效果看起来像普通的火焰，但不产生热量，也不消耗氧气。不灭明焰可以被遮挡或隐藏，但无法被捂熄或扑灭。</p>',
    scaling: '无',
    classes: ['cleric', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'darkness',
    name: '黑暗术',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: false, m: '蝙蝠毛和一滴沥青或一块煤炭' },
    concentration: true,
    duration: '10 分钟',
    target: '15尺半径球状区域',
    attackType: 'none',
    description: '<p>魔法黑暗从射程内你选择的一点扩散，充满 15 尺半径的球状区域。黑暗可以绕过转角。拥有黑暗视觉的生物无法看穿这片黑暗，非魔法光照也无法照亮它。</p><p>如果选定的点位于你正持握的物体上，或位于未被穿戴或携带的物体上，黑暗将从该物体散发并随其移动。若用不透明物体（如碗或头盔）完全盖住黑暗源，则黑暗被阻挡。</p><p>如果该法术的区域覆盖了 2 环或更低环阶法术制造的光照区域，则制造光照的法术被解除。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'flame_blade',
    name: '火焰刀',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: true, m: '漆树叶' },
    concentration: true,
    duration: '10 分钟',
    target: '自身',
    attackType: 'melee',
    damage: '3d6',
    damageType: 'fire',
    description: '<p>你在空着的手中唤出一把火焰构成的刀刃。其大小和形状类似弯刀，持续至法术结束。如果你松开刀刃，它会消失，但你可以用附赠动作再次唤出。</p><p>你可以用动作使用火焰刀进行一次近战法术攻击。若命中，目标受到 3d6 点火焰伤害。火焰刀发出 10 尺明亮光照和额外 10 尺微暗光照。</p>',
    scaling: '4环及以上(每高两环伤害+1d6)',
    classes: ['druid'],
    cantripScaling: false
  },
  {
    id: 'gust_of_wind',
    name: '造风术',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一颗豆类植物的种子' },
    concentration: true,
    duration: '1 分钟',
    target: '60尺线状区域',
    attackType: 'save',
    saveAttr: 'str',
    description: '<p>一阵强风从你身上向你选择的方向吹出，形成 60 尺长、10 尺宽的线状区域。在区域内开始其回合的生物必须进行力量豁免，失败则被沿强风方向推离你 15 尺。</p><p>在区域内的生物若想向你移动，每移动 1 尺必须消耗 2 尺移动力。</p><p>强风会驱散气体或蒸汽，并熄灭区域内的蜡烛、火把等无保护火焰。对于有保护的火焰（如灯笼），有 50% 几率被吹灭。作为动作，你可以在每回合改变强风的方向。</p>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'melfs_acid_arrow',
    name: '马友夫强酸箭',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '大黄叶粉末和一个蝰蛇胃' },
    concentration: false,
    duration: '立即',
    target: '一个生物',
    attackType: 'ranged',
    damage: '4d4',
    damageType: 'acid',
    description: '<p>一支闪烁着绿光的魔法箭射向目标。对目标进行一次远程法术攻击。若命中，目标立即受到 4d4 点酸蚀伤害，并在其下个回合结束时受到 2d4 点酸蚀伤害。若未命中，箭矢飞溅，目标受到初始伤害的一半，且无后续伤害。</p>',
    scaling: '3环及以上(初始和后续伤害各+1d4)',
    classes: ['wizard'],
    cantripScaling: false
  },
  {
    id: 'moonbeam',
    name: '月光束',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '几粒月籽藤种子和一块蛋白石长石' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺半径圆柱体',
    attackType: 'save',
    saveAttr: 'con',
    damage: '2d10',
    damageType: 'radiant',
    description: '<p>一道苍白的银色光束照耀在射程内以你选择的一点为中心，半径 5 尺、高 40 尺的圆柱形区域。直到法术结束，该区域充满微暗光照。</p><p>当一个生物在回合内首次进入该区域，或在区域内开始其回合时，它被幽灵般的火焰吞没，感到剧痛，必须进行体质豁免。失败者受到 2d10 点光耀伤害，成功者减半。</p><p>变形生物进行该豁免时具有劣势。若失败，它将立即恢复原形，且在离开光照区域前无法变形。你在施法后的每个回合，可以用动作将光束移动至多 60 尺。</p>',
    scaling: '3环及以上(每高一环伤害+1d10)',
    classes: ['druid'], // 暂不含圣武士(古贤之誓)
    cantripScaling: false
  },
  {
    id: 'prayer_of_healing',
    name: '治疗祷言',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '10 分钟',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '至多6个生物',
    attackType: 'none',
    damage: '2d8', // + 施法调整值
    description: '<p>射程内你可见的至多六个生物恢复生命值，数值等于 2d8 + 你的施法关键属性调整值。该法术对不死生物和构装体无效。</p>',
    scaling: '3环及以上(每高一环治疗量+1d8)',
    classes: ['cleric'],
    cantripScaling: false
  },
  {
    id: 'rimes_binding_ice',
    name: '赖姆之寒冰束缚',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: false, s: true, m: '一小瓶融水' },
    concentration: false,
    duration: '立即',
    target: '30尺锥状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '3d8',
    damageType: 'cold',
    description: '<p>一股寒冷的能量从你身上爆发，覆盖 30 尺锥状区域。区域内的每个生物必须进行体质豁免。失败者受到 3d8 点冷冻伤害，并被冰封困扰 1 分钟，或直到它（或其触及范围内的其他生物）使用动作打破覆冰。被冰封困扰的生物速度降为 0。豁免成功者受到一半伤害，且不被冰封。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'scorching_ray',
    name: '灼热射线',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '一个或多个生物',
    attackType: 'ranged',
    damage: '2d6',
    damageType: 'fire',
    description: '<p>你创造出三道火焰射线，并将它们投向射程内的目标。你可以将射线投向同一个目标或分别投向不同目标。</p><p>对每道射线分别进行远程法术攻击。若命中，目标受到 2d6 点火焰伤害。</p>',
    scaling: '3环及以上(每高一环多制造一道射线)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'shatter',
    name: '粉碎音波',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一片云母' },
    concentration: false,
    duration: '立即',
    target: '10尺半径球状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '3d8',
    damageType: 'thunder',
    description: '<p>突如其来的剧烈轰鸣声在射程内你选择的一点爆发。以该点为中心 10 尺半径球状区域内的每个生物必须进行体质豁免。失败者受到 3d8 点雷鸣伤害，成功者减半。由无机物质（如石头、水晶或金属）构成的生物进行该豁免时具有劣势。</p><p>区域内未被穿戴或携带的非魔法物体也会受到伤害。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'snillocs_snowball_swarm',
    name: '斯尼洛克雪球风暴',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一块冰或一小块白色岩石碎片' },
    concentration: false,
    duration: '立即',
    target: '5尺半径球状区域',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '3d6',
    damageType: 'cold',
    description: '<p>一阵魔法雪球在射程内你选择的一点爆发。以该点为中心 5 尺半径球状区域内的每个生物必须进行敏捷豁免。失败者受到 3d6 点冷冻伤害，成功者减半。</p>',
    scaling: '3环及以上(每高一环伤害+1d6)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'spiritual_weapon',
    name: '灵体武器',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'melee',
    damage: '1d8', // + 施法调整值
    damageType: 'force',
    description: '<p>你在射程内创造出一把漂浮的幽灵武器。施法时，你可以对武器 5 尺内的一个生物进行一次近战法术攻击。若命中，目标受到 1d8 + 你施法关键属性调整值点力场伤害。</p><p>在你的回合，你可以用附赠动作将武器移动至多 20 尺，并再次对它 5 尺内的生物发动攻击。</p><p>武器外形由你决定。信仰特定神祇的牧师通常会使武器外形类似神祇的偏好武器。</p>',
    scaling: '4环及以上(每高两环伤害+1d8)',
    classes: ['cleric'],
    cantripScaling: false
  },
  {
    id: 'warding_wind',
    name: '护身之风',
    level: 2,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '自身(10尺半径)',
    attackType: 'none',
    description: '<p>一股强风（时速20英里）在你周围 10 尺半径内环绕，并随你移动。强风造成以下效果：</p><ul><li>它使你和区域内的其他生物耳聋。</li><li>熄灭区域内火把大小或更小的无保护火焰。</li><li>阻挡可被强风吹散的气体、蒸汽和雾。</li><li>该区域对除你以外的生物视为困难地形。</li><li>穿过风墙的远程武器攻击检定具有劣势。</li></ul>',
    scaling: '无',
    classes: ['bard', 'druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 幻术系 (Illusion)
  // ==========================================
  {
    id: 'blur',
    name: '朦胧术',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>你的轮廓变得模糊不清，在所有能看见你的生物眼中摇曳不定。在法术持续期间，任何生物对你进行的攻击检定具有劣势。如果攻击者不依靠视觉（如拥有盲视），或能看穿幻觉（如拥有真实视觉），则免疫此效果。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'invisibility',
    name: '隐形术',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一根包裹在阿拉伯胶中的睫毛' },
    concentration: true,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你触碰一个生物，使其在法术持续期间变得隐形。只要该生物身上的穿戴物或携带物在它身上，也会随之隐形。如果目标进行攻击或施法，该法术终止。</p>',
    scaling: '3环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'magic_mouth',
    name: '魔嘴术',
    level: 2,
    school: 'illusion',
    ritual: true,
    castingTime: '1 分钟',
    range: '30 尺',
    components: { v: true, s: true, m: '一小块蜂巢和价值至少10gp的翡翠粉末，法术会消耗掉' },
    concentration: false,
    duration: '永久',
    target: '一个物体',
    attackType: 'none',
    description: '<p>你在射程内的一个物体上植入一段信息，当触发条件满足时，该信息会被说出。选择一个你可见且未被其他生物穿戴或携带的物体。说出信息（不超过 25 个词，发音过程不超 10 分钟）。最后设定触发该法术传递信息的条件。</p><p>当条件满足时，一张魔法嘴巴出现在物体上，用你的声音和音量复述信息。如果你选择的物体有嘴（如雕像），魔法嘴巴会出现在那里。你可以设定法术在传递一次信息后结束，或者每次触发都重复信息。</p><p>触发条件可以概括也可以详细，但必须基于物体周围 30 尺内发生的视觉或听觉状况（例如“当有生物走近 30 尺内”或“当听到银铃声时”）。</p>',
    scaling: '无',
    classes: ['bard', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'mirror_image',
    name: '镜影术',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>三个虚幻的自我复制品出现在你所在的空间。在法术持续期间，复制品随你移动并模仿你的动作，不断变换位置使得敌人无法分辨真身。你可以用动作解消这些复制品。</p><p>在法术持续期间，每当一个生物针对你发动攻击时，投掷 d20 以决定攻击是否命中了复制品。</p><ul><li>若你有三个复制品，骰出 6 或更高则攻击目标转为复制品。</li><li>若有两个，骰出 8 或更高则转为复制品。</li><li>若有一个，骰出 11 或更高则转为复制品。</li></ul><p>复制品的 AC 等于 10 + 你的敏捷调整值。若攻击命中复制品，复制品被摧毁。复制品只能被命中它的攻击摧毁，它免疫其他所有伤害和效果。当三个复制品全被摧毁时法术结束。</p><p>无法看见、不依靠视觉（如盲视）或能看穿幻觉（如真实视觉）的生物不受此法术影响。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'nathairs_mischief',
    name: '纳瑟尔的恶作剧',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: false, s: true, m: '一块苹果派的酥皮' },
    concentration: true,
    duration: '1 分钟',
    target: '20尺立方区域',
    attackType: 'save',
    // saveAttr: 'varied', // 混合效果
    description: '<p>你在射程内你可见的一处 20 尺立方区域内注满精类和龙族的魔法。掷骰查阅“恶作剧浪涌表”以决定产生的魔法效果，并在直到法术结束前的你每个回合开始时再次掷骰。在掷骰前，你可以将该立方区域移动至多 10 尺。</p><p><b>恶作剧浪涌表 (d4)</b></p><ul><li><b>1.</b> 空气中弥漫着苹果派的香味。区域内的每个生物必须进行感知豁免，失败则被你魅惑，直到其下个回合开始。</li><li><b>2.</b> 花束缤纷洒落。区域内的每个生物必须进行敏捷豁免，失败则陷入目盲状态，直到其下个回合开始。</li><li><b>3.</b> 每个人都开始无法控制地傻笑。区域内的每个生物必须进行感知豁免，失败则陷入失能状态，直到其下个回合开始。处于失能期间，生物必须耗尽其所有移动力向随机方向移动。</li><li><b>4.</b> 糖浆液滴悬浮在区域内。该区域变为困难地形，直到你的下个回合开始。</li></ul>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'nystuls_magic_aura',
    name: '尼斯图尔魔法灵光',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一小块丝绸' },
    concentration: false,
    duration: '24 小时',
    target: '一个生物或物体',
    attackType: 'none',
    description: '<p>你在触碰的一个生物或物体上施加幻术，使预言系法术显示关于它的错误信息。目标可以是自愿生物，或未被其他生物穿戴或携带的物体。</p><p>施法时选择以下一种或两种效果：</p><ul><li><b>伪造灵光 (False Aura)</b>：改变目标在<i>侦测魔法</i>等探测魔法灵光法术下的显示。你可以让非魔法物体显示为魔法物品，反之亦然，或改变其显示的魔法学派。</li><li><b>掩饰 (Mask)</b>：改变目标在探测生物类型法术（如圣武士<i>神圣感知</i>或<i>守卫刻文</i>触发器）下的显示。你可以选择一种生物类型，让其他法术视该目标为该类型或该阵营。</li></ul><p>若你对同一目标连续 30 天施展此法术并选择相同效果，该幻术变为永久，直到被解除。</p>',
    scaling: '无',
    classes: ['wizard'],
    cantripScaling: false
  },
  {
    id: 'phantasmal_force',
    name: '幻影之力',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一点羊毛' },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'int',
    damage: '1d6',
    damageType: 'psychic',
    description: '<p>你编织的幻象植入到射程内一个你可见生物的脑海中。目标必须进行智力豁免。失败则你创造出一个不超过 10 尺立方的幻影物体、生物或其他可见现象，在法术持续期间仅该目标能感知到。该法术对不死生物和构装体无效。</p><p>幻影包含声音、温度和其他感官刺激。目标会视幻影为真实，并会为与其互动产生的任何不合逻辑结果进行合理化解释（例如从幻影桥上掉下去会认为是自己滑倒了）。</p><p>受术目标深信幻影的真实性，甚至可能受其伤害。如果幻影是生物或危险环境（如火坑、酸液），它可以对目标造成伤害。在你回合内，若目标处于幻影区域或其 5 尺内，幻影可造成 1d6 点心灵伤害。</p><p>目标可以用动作进行智力（调查）检定对抗你的法术 DC。若成功，目标识破幻象，法术结束。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'shadow_blade',
    name: '暗影刃',
    level: 2,
    school: 'illusion',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '创造一把魔法武器',
    attackType: 'melee',
    damage: '2d8',
    damageType: 'psychic',
    description: '<p>你编织阴影，在手中凝聚出一把固化的幽暗之剑。此魔法剑持续至法术结束。它视为你有熟练项的简易近战武器。命中时造成 2d8 点心灵伤害，且具有灵巧、轻型和投掷（射程 20/60）属性。此外，当你用该剑攻击处于微暗光照或黑暗中的目标时，攻击检定具有优势。</p><p>如果你丢下或掷出该剑，它会在回合结束时消散。此后只要法术持续，你可以用附赠动作让剑重新出现在手中。</p>',
    scaling: '3-4环(3d8), 5-6环(4d8), 7环及以上(5d8)',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'silence',
    name: '沉默术',
    level: 2,
    school: 'illusion',
    ritual: true,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '20尺半径球状区域',
    attackType: 'none',
    description: '<p>在法术持续期间，射程内你选择的一点周围 20 尺半径球状区域内无法产生声音，声音也无法穿过该区域。完全位于区域内的生物或物体免疫雷鸣伤害，且生物视为耳聋。在该区域内无法施展包含言语成分的法术。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'ranger'],
    cantripScaling: false
  },

  // ==========================================
  // 死灵系 (Necromancy)
  // ==========================================
  {
    id: 'blindness_deafness',
    name: '盲目术/耳聋术',
    level: 2,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'con',
    description: '<p>你可以使一个敌人失明或耳聋。选择射程内你可见的一个生物进行体质豁免。若失败，目标在法术持续期间陷入目盲或耳聋（由你选择）。在目标的每个回合结束时，它可以再次进行体质豁免。若成功，法术结束。</p>',
    scaling: '3环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'cleric', 'druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'gentle_repose',
    name: '遗体防腐',
    level: 2,
    school: 'necromancy',
    ritual: true,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一小撮盐，以及分别放置在尸体双眼上的两枚铜币（需在法术持续期间保留）' },
    concentration: false,
    duration: '10 天',
    target: '一具尸体',
    attackType: 'none',
    description: '<p>你触碰一具尸体或其他遗骸。在法术持续期间，目标受到保护免于腐烂，且无法变为不死生物。</p><p>该法术还可以有效延长复活目标的时间限制，因为处于此法术影响下的时间不计入诸如<i>死者复活 (Raise Dead)</i> 等法术的时间限制内。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'paladin', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'ray_of_enfeeblement',
    name: '衰弱射线',
    level: 2,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'ranged',
    description: '<p>一道黑色的能量射线从你的手指射向射程内的一个生物。对目标进行一次远程法术攻击。若命中，直到法术结束，目标使用力量进行的武器攻击只能造成一半伤害。</p><p>在目标的每个回合结束时，它可以针对该法术进行一次体质豁免。若成功，法术结束。</p>',
    scaling: '无',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 变化系 (Transmutation)
  // ==========================================
  {
    id: 'alter_self',
    name: '变身术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '自身',
    attackType: 'none',
    description: '<p>你改变形态。施法时从以下选项中选择一个效果，持续至法术结束。在法术持续期间，你可以用动作结束当前效果并获得另一个效果。</p><p><b>水栖适应 (Aquatic Adaptation)</b>：你的身体适应水下环境，长出鳃和指间蹼。你可以在水下呼吸，并获得等于步行速度的游泳速度。</p><p><b>改变外貌 (Change Appearance)</b>：你改变外貌，包括身高、体重、面部特征、声音、发型、肤色及其他特征。你可以让自己看起来像另一个种族，但数据不变。你无法改变体型大小，且基本身体结构必须相同（例如无法从双足变为四足）。你可以随时用动作再次改变外貌。</p><p><b>天生武器 (Natural Weapons)</b>：你长出爪子、尖牙、脊刺、角或其他你选择的天生武器。你的徒手打击造成 1d6 点钝击、穿刺或挥砍伤害（视武器类型而定），且你对该徒手打击具有熟练项。该武器视为魔法武器，且攻击和伤害检定获得 +1 加值。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'barkskin',
    name: '树肤术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一把橡树皮' },
    concentration: true,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物。直到法术结束，目标的皮肤变得粗糙如树皮，且其 AC 不能低于 16，无论它穿戴何种护甲。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'cordon_of_arrows',
    name: '箭雨结界',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '5 尺',
    components: { v: true, s: true, m: '四支或更多箭矢或弩矢' },
    concentration: false,
    duration: '8 小时',
    target: '4支弹药',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '1d6',
    damageType: 'piercing',
    description: '<p>你在射程内的地面上插下四支非魔法弹药（箭或弩矢），并施加魔法保护该区域。直到法术结束，每当除你以外的生物在回合内首次进入弹药周围 30 尺内或在其中结束回合时，一支弹药会飞起攻击它。目标必须进行敏捷豁免，失败受到 1d6 点穿刺伤害。弹药随即损毁。当无弹药剩余时法术结束。</p><p>施法时，你可以指定任意生物不受此法术影响。</p>',
    scaling: '3环及以上(每高一环弹药数量+2)',
    classes: ['ranger'],
    cantripScaling: false
  },
  {
    id: 'darkvision',
    name: '黑暗视觉',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一撮干胡萝卜或一颗玛瑙' },
    concentration: false,
    duration: '8 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物，赋予其在黑暗中视物的能力。在法术持续期间，该生物获得 60 尺黑暗视觉。</p>',
    scaling: '无',
    classes: ['druid', 'ranger', 'sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'dragons_breath',
    name: '龙息术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '触及',
    components: { v: true, s: true, m: '一个红辣椒' },
    concentration: true,
    duration: '1 分钟',
    target: '一个自愿生物',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '3d6',
    // damageType: 'varied', // 施法时选择
    description: '<p>你触碰一个自愿生物，赋予其喷吐魔法能量的能力（只要它有嘴）。选择酸蚀、冷冻、火焰、闪电或毒素。直到法术结束，该生物可以用动作喷出 15 尺锥状的能量。区域内的生物必须进行敏捷豁免，失败受到 3d6 点所选类型的伤害，成功减半。</p>',
    scaling: '3环及以上(每高一环伤害+1d6)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'earthbind',
    name: '大地束缚',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '300 尺',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'str',
    description: '<p>选择射程内你可见的一个生物。黄色的魔法能量带缠绕着该生物。目标必须通过力量豁免，否则在法术持续期间其飞行速度（若有）降为 0。受此法术影响的飞行生物会以每轮 60 尺的速度安全降落，直到落地或法术结束。</p>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'enhance_ability',
    name: '强化属性',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '野兽的毛皮或羽毛' },
    concentration: true,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你触碰一个生物并赋予其魔法强化。选择以下效果之一，持续至法术结束：</p><ul><li><b>熊之坚韧 (Bear\'s Endurance)</b>：目标体质检定具有优势，并获得 2d6 临时生命值（法术结束时消失）。</li><li><b>牛之蛮力 (Bull\'s Strength)</b>：目标力量检定具有优势，且负重能力加倍。</li><li><b>猫之轻灵 (Cat\'s Grace)</b>：目标敏捷检定具有优势。若未陷入失能，从 20 尺或更低处坠落不受伤。</li><li><b>鹰之光彩 (Eagle\'s Splendor)</b>：目标魅力检定具有优势。</li><li><b>狐之狡黠 (Fox\'s Cunning)</b>：目标智力检定具有优势。</li><li><b>枭之感知 (Owl\'s Wisdom)</b>：目标感知检定具有优势。</li></ul>',
    scaling: '3环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'cleric', 'druid', 'sorcerer'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'enlarge_reduce',
    name: '变巨/缩小术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一撮铁粉' },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物或物体',
    attackType: 'save',
    saveAttr: 'con',
    description: '<p>你使射程内你可见的一个生物或一个未被穿戴携带的物体变大或变小。不愿意的生物可进行体质豁免，成功则不受影响。</p><p><b>变巨 (Enlarge)</b>：目标尺寸在各维度翻倍，重量乘 8。体型增大一级（如中型变大型）。若空间不足则达到可能的最大体型。目标力量检定和豁免具有优势，武器伤害额外增加 1d4。</p><p><b>缩小 (Reduce)</b>：目标尺寸在各维度减半，重量变为 1/8。体型减小一级（如中型变小型）。目标力量检定和豁免具有劣势，武器伤害减少 1d4（最低为 1）。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'heat_metal',
    name: '灼热金属',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一块铁片和一团火焰' },
    concentration: true,
    duration: '1 分钟',
    target: '一个金属物体',
    attackType: 'save',
    saveAttr: 'con',
    damage: '2d8',
    damageType: 'fire',
    description: '<p>选择射程内你可见的一个人造金属物体（如金属武器或盔甲）。你使其变得通红灼热。施法时，任何与该物体有物理接触的生物受到 2d8 点火焰伤害。直到法术结束，你可以在每回合用附赠动作再次造成此伤害。</p><p>若生物正持握或穿戴该物体并受到伤害，必须进行体质豁免，失败则必须丢下物体（若能丢下）。若无法丢下，则直到你的下个回合开始前，其攻击检定和属性检定具有劣势。</p>',
    scaling: '3环及以上(每高一环伤害+1d8)',
    classes: ['bard', 'druid'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'knock',
    name: '敲击术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '一个门、锁或箱子',
    attackType: 'none',
    description: '<p>选择射程内你可见的一个物体（门、盒子、箱子、镣铐、挂锁等）。若是被普通锁锁住、卡住或被门闩闩住，则解锁、松开或开闩。若有多个锁，只解开一个。</p><p>若目标被<i>奥术锁 (Arcane Lock)</i> 封锁，则该法术被压制 10 分钟。施法时，目标物体会发出一声巨大的敲击声，300 尺内可闻。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'levitate',
    name: '浮空术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一个小皮环或一段弯成杯状的金线' },
    concentration: true,
    duration: '10 分钟',
    target: '一个生物或物体(500磅内)',
    attackType: 'save',
    saveAttr: 'con',
    description: '<p>射程内你可见的一个生物或松散物体垂直升起至多 20 尺，并悬停在空中。目标重量不能超过 500 磅。不愿意的生物若体质豁免成功则不受影响。</p><p>目标只能通过推拉触及范围内的固定物体（如墙壁）来移动。你可以在你的回合改变目标高度（升降至多 20 尺）。若你是目标，你可以作为移动的一部分升降。否则你需要用动作移动目标。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'magic_weapon',
    name: '魔化武器',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '一把非魔法武器',
    attackType: 'none',
    description: '<p>你触碰一把非魔法武器。直到法术结束，该武器变为魔法武器，且攻击检定和伤害掷骰获得 +1 加值。</p>',
    scaling: '4-5环(+2), 6环及以上(+3)',
    classes: ['paladin', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'maximilians_earthen_grasp',
    name: '马克西米利安的大地之握',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一只粘土塑成的微型手' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺方形区域',
    attackType: 'save',
    saveAttr: 'str',
    damage: '2d6',
    damageType: 'bludgeoning',
    description: '<p>你在射程内选择一处 5 尺方形的地面，一只压实土壤构成的中型手掌升起，并抓向其 5 尺内你可见的一个生物。目标必须进行力量豁免。失败则受到 2d6 点钝击伤害并被束缚。</p><p>作为动作，你可以让手掌挤压被束缚的目标，再次造成 2d6 点钝击伤害（力量豁免成功减半）。被束缚目标可用动作进行力量检定对抗你的法术 DC 逃脱。作为动作，你可以让手掌移向另一空间或抓取另一生物。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'pyrotechnics',
    name: '烟火术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '5尺立方火焰',
    attackType: 'save',
    saveAttr: 'con',
    description: '<p>选择射程内你可见的一处不超过 5 尺立方的非魔法火焰区域。你将其熄灭，并产生烟花或烟雾：</p><ul><li><b>烟花 (Fireworks)</b>：目标区域爆发炫目彩光。目标周围 10 尺内的每个生物必须进行体质豁免，失败则陷入目盲直到你下个回合结束。</li><li><b>烟雾 (Smoke)</b>：厚重的黑烟从目标区域扩散至 20 尺半径，造成重度遮蔽。持续 1 分钟或直到被强风吹散。</li></ul>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'rope_trick',
    name: '绳技',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '玉米粉萃取物和一个扭曲的羊皮纸环' },
    concentration: false,
    duration: '1 小时',
    target: '一根至多60尺长的绳子',
    attackType: 'none',
    description: '<p>你触碰一根至多 60 尺长的绳子。绳子一端升空，直至垂直悬挂。绳子顶端打开一个通往异次元空间的隐形入口。空间可持续至法术结束。</p><p>可通过攀爬绳子进入该空间，空间最多容纳 8 个中型或更小生物。绳子可被拉入空间内，使其在外界消失。攻击和法术无法穿过入口，但内部可以看到外面（通过一个 3x5 尺的窗口）。法术结束时，内部所有东西都会掉落出来。</p>',
    scaling: '无',
    classes: ['wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'skywrite',
    name: '空中书写',
    level: 2,
    school: 'transmutation',
    ritual: true,
    castingTime: '1 动作',
    range: '视线',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '天空',
    attackType: 'none',
    description: '<p>你在可见的一片天空区域形成至多 10 个词。这些词由云雾构成，并在法术持续期间保持原位。法术结束时消散。强风可驱散云雾并提前结束法术。</p>',
    scaling: '无',
    classes: ['bard', 'druid', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'spider_climb',
    name: '蛛行术',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一滴沥青和一只蜘蛛' },
    concentration: true,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物。直到法术结束，该生物获得在垂直表面及天花板上倒挂移动的能力，且无须用手抓握。该生物获得等同于其步行速度的攀爬速度。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'spike_growth',
    name: '荆棘丛生',
    level: 2,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '150 尺',
    components: { v: true, s: true, m: '七根尖刺或七根削尖的小树枝' },
    concentration: true,
    duration: '10 分钟',
    target: '20尺半径区域',
    attackType: 'none',
    damage: '2d4',
    damageType: 'piercing',
    description: '<p>射程内一点周围 20 尺半径的地面扭曲并长出坚硬的尖刺和荆棘。该区域变为困难地形。当生物进入或在区域内移动时，每移动 5 尺受到 2d4 点穿刺伤害。</p><p>地面的变化被伪装成自然现象。任何未能亲眼目睹施法过程的生物必须进行感知（察觉）检定对抗你的法术 DC 才能在进入前识别出该危险地形。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
];