// src/data/spells/level5.ts
import type { SpellDefinition } from '../../types/Spell';

export const LEVEL_5_SPELLS: SpellDefinition[] = [
  // ==========================================
  // 防护系 (Abjuration)
  // ==========================================
  {
    id: 'antilife_shell',
    name: '防活物护罩',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '10 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '10尺半径护罩',
    attackType: 'none',
    description: '<p>一道闪微光的屏障从你向外延伸出 10 尺半径并以你为中心随你移动。屏障阻挡除不死生物和构装体以外的生物。屏障阻挡受影响生物通过或触及。但它们可以通过屏障施法或使用远程/长触及武器攻击。</p><p>若你移动迫使受影响生物通过屏障，法术结束。</p>',
    scaling: '无',
    classes: ['druid'],
    cantripScaling: false
  },
  {
    id: 'banishing_smite',
    name: '放逐斩',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '下一次武器攻击击中的生物',
    attackType: 'none',
    damage: '5d10',
    damageType: 'force',
    description: '<p>在法术结束前，你下一次用武器攻击命中生物时，武器爆发出力场能量。该次攻击造成额外 5d10 点力场伤害。此外，若此攻击使目标生命值降至 50 点或更低，目标被放逐。</p><p>若目标属于异位面，它被遣返归乡。若目标属于当前位面，它被放逐到一个无害半位面并陷入失能，直到法术结束。</p>',
    scaling: '无',
    classes: ['paladin'], // 邪术师(妖精宗主/巨灵宗主)
    cantripScaling: false
  },
  {
    id: 'circle_of_power',
    name: '能量法阵',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '30尺半径球体',
    attackType: 'none',
    description: '<p>神圣能量从你身上散发，扭曲并漫射周围 30 尺内的魔法能量。法阵以你为中心随你移动。区域内每个友方生物（包括你）对法术和其他魔法效应的豁免检定具有优势。此外，若受术生物通过豁免可以使某法术或魔法效应伤害减半，则该生物通过豁免时不受任何伤害。</p>',
    scaling: '无',
    classes: ['paladin', 'cleric'], // TCE 加入牧师
    cantripScaling: false
  },
  {
    id: 'dispel_evil_and_good',
    name: '驱散善恶',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '圣水或银粉与铁粉' },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'melee',
    description: '<p>闪微光的能量环绕保护着你。在法术持续期间，天界、元素、精类、邪魔和不死生物对你的攻击检定具有劣势。</p><p>你可以使用以下特殊功能之一提前结束法术：</p><ul><li><b>破除附魔 (Break Enchantment)</b>：用动作触碰一个被魅惑、恐慌或被上述生物附体的生物。移除该状态或附体。</li><li><b>驱逐 (Dismissal)</b>：用动作对上述类型生物发动近战法术攻击。命中后，目标必须进行魅力豁免，失败则被遣返归乡（若不与其同位面）。</li></ul>',
    scaling: '无',
    classes: ['cleric', 'paladin'],
    cantripScaling: false
  },
  {
    id: 'greater_restoration',
    name: '高等复原术',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '价值至少100gp的钻石粉，法术会消耗掉' },
    concentration: false,
    duration: '立即',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你将正能量灌注进你触碰的一个生物体内以解除衰弱效果。你可以减少目标一级力竭（Exhaustion），或结束以下一种效果：</p><ul><li>魅惑或石化状态</li><li>一个诅咒（包括与诅咒魔法物品的同调）</li><li>任何属性值的降低</li><li>生命值上限的降低</li></ul>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid'], // 奇械师/天界邪术师
    cantripScaling: false
  },
  {
    id: 'planar_binding',
    name: '异界誓缚',
    level: 5,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 小时',
    range: '60 尺',
    components: { v: true, s: true, m: '一颗价值至少1000gp的宝石，法术会消耗掉' },
    concentration: false,
    duration: '24 小时',
    target: '一个异界生物',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你试图将一个天界、元素、精类或邪魔生物束缚在你的服务中。生物必须全程在射程内（通常先用<i>反转魔法法阵</i>困住）。施法完成时，目标必须进行魅力豁免，失败则被束缚。</p><p>被束缚生物必须尽力听从你的指令。若生物对你敌对，它会试图曲解你的话。若任务完成且在同位面，它会回来复命；若在异位面，它会回到束缚点。</p>',
    scaling: '6环(10天), 7环(30天), 8环(180天), 9环(1年又1天)',
    classes: ['bard', 'cleric', 'druid', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 咒法系 (Conjuration)
  // ==========================================
  {
    id: 'cloudkill',
    name: '死云术',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '20尺半径球状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '5d8',
    damageType: 'poison',
    description: '<p>你在射程内创造一个 20 尺半径的黄绿色毒雾球体。毒雾绕过转角，造成重度遮蔽。</p><p>当生物在回合内首次进入区域或在其中开始回合时，需进行体质豁免。失败受 5d8 点毒素伤害，成功减半。屏息或不需呼吸的生物仍受影响。</p><p>在你每回合开始时，毒雾会沿地面向远离你的方向移动 10 尺。它重于空气，会沉入低洼地带。</p>',
    scaling: '6环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'wizard'], // 德鲁伊(孢子/大地)
    cantripScaling: false
  },
  {
    id: 'conjure_elemental',
    name: '召唤元素生物',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 分钟',
    range: '90 尺',
    components: { v: true, s: true, m: '对应元素的熏香(气)、软泥(土)、硫磺磷(火)或水沙(水)' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个元素生物',
    attackType: 'none',
    description: '<p>你呼唤一个元素仆役。选择射程内充满气、土、火或水的一处 10 尺立方区域。一个挑战等级 5 或更低的对应元素生物出现在附近。它对你友善，听从口头命令。</p><p>若你失去专注，元素不会消失，而是失去控制并对你敌对，可能会攻击你。失控的元素无法被解散，并在召唤后 1 小时消失。</p>',
    scaling: '6环及以上(挑战等级上限每高一环+1)',
    classes: ['druid', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'conjure_volley',
    name: '乱射',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '150 尺',
    components: { v: true, s: true, m: '一件弹药或投掷武器' },
    concentration: false,
    duration: '立即',
    target: '40尺半径圆柱体',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '8d8',
    // damageType: 'varied',
    description: '<p>你向空中射出一件非魔法弹药或投掷武器，化为无数复制品如雨般落下。射程内一点周围 40 尺半径、高 20 尺的圆柱区域内的每个生物必须进行敏捷豁免。失败者受到 8d8 点伤害，成功者减半。伤害类型取决于所用武器。</p>',
    scaling: '无',
    classes: ['ranger'],
    cantripScaling: false
  },
  {
    id: 'far_step',
    name: '遥步术',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>你传送至多 60 尺到一处你可见的未被占据空间。在法术结束前的你每个回合，你可以用附赠动作再次进行此传送。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'infernal_calling',
    name: '唤魔术',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 分钟',
    range: '90 尺',
    components: { v: true, s: true, m: '一颗价值至少999gp的红宝石' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个魔鬼',
    attackType: 'none',
    description: '<p>你召唤一个挑战等级 6 或更低的魔鬼（如倒钩魔或由于魔）。魔鬼对你不友善，甚至可能攻击你或诱惑你。它有自己的先攻。</p><p>每回合你可以尝试命令它。若命令符合其欲望，它会执行。否则需进行魅力（欺瞒/威吓/游说）检定对抗其感知（洞察）。若你知道其真名，检定具有优势。检定失败则它免疫你的命令。若你拥有该魔鬼的护符，无需检定即可命令。</p><p>若专注中断且魔鬼已免疫命令，它会逗留 3d6 分钟后消失。</p>',
    scaling: '6环及以上(挑战等级上限每高一环+1)',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'insect_plague',
    name: '疫病虫群',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '300 尺',
    components: { v: true, s: true, m: '几粒糖、一些谷粒和一抹油脂' },
    concentration: true,
    duration: '10 分钟',
    target: '20尺半径球状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '4d10',
    damageType: 'piercing',
    description: '<p>一群叮咬的蝗虫充满射程内 20 尺半径的球状区域。区域重度遮蔽且为困难地形。</p><p>当区域出现时，以及生物在回合内首次进入或在其中结束回合时，需进行体质豁免。失败受 4d10 点穿刺伤害，成功减半。</p>',
    scaling: '6环及以上(每高一环伤害+1d10)',
    classes: ['cleric', 'druid', 'sorcerer'],
    cantripScaling: false
  },
  {
    id: 'steel_wind_strike',
    name: '钢风打击',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: false, s: true, m: '一把价值至少1sp的近战武器' },
    concentration: false,
    duration: '立即',
    target: '至多5个生物',
    attackType: 'melee',
    damage: '6d10',
    damageType: 'force',
    description: '<p>你挥舞武器并消失，如风般打击敌人。选择射程内至多 5 个你可见的生物。对每个目标进行近战法术攻击。命中造成 6d10 点力场伤害。</p><p>攻击后，你可以传送至其中一个（命中或未命中的）目标周围 5 尺内的一处未被占据空间。</p>',
    scaling: '无',
    classes: ['ranger', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'summon_celestial',
    name: '召唤天界生物',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一个价值至少500gp的金色圣骨盒' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个天界精魂',
    attackType: 'none',
    description: '<p>你唤来一个天界精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“天界精魂”的数据板。施法时，你选择形态：复仇者 (Avenger) 或防御者 (Defender)。该形态决定了数据板中的一项特质。</p><p>该生物对你和同伴友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。</p>',
    scaling: '6环及以上(提升精魂数据板中的等级)',
    classes: ['cleric', 'paladin'],
    cantripScaling: false
  },
  {
    id: 'summon_draconic_spirit',
    name: '召唤龙魂',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '刻有龙像的物品，价值至少500gp' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个龙族精魂',
    attackType: 'none',
    description: '<p>你唤来一个龙族精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“龙族精魂”的数据板。施法时，你选择龙族：色彩 (Chromatic)、宝石 (Gem) 或金属 (Metallic)。该选择决定了数据板中的一项特质。</p><p>该生物对你和同伴友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。</p>',
    scaling: '6环及以上(提升精魂数据板中的等级)',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'teleportation_circle',
    name: '传送法阵',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 分钟',
    range: '10 尺',
    components: { v: true, s: false, m: '注入宝石粉末的稀有墨水和粉笔，价值50gp，法术会消耗掉' },
    concentration: false,
    duration: '1 轮',
    target: '连接传送法阵',
    attackType: 'none',
    description: '<p>你在地面画出一个直径 10 尺的法阵，并将其链接至同位面你已知序列号的一个永久传送法阵。传送门开启直到你下回合结束。任何进入法阵的生物会立即出现在目标法阵 5 尺内。</p><p>许多神殿和公会拥有永久法阵。你在获得此法术时习得两个目的地的序列号。你可以通过一分钟学习记忆新的序列号。在同一地点每天施展此法术持续一年可创造永久法阵。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'tree_stride',
    name: '树跃术',
    level: 5,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>你获得进入树木并从 500 尺内另一棵同类树木出来的能力。两棵树必须是活的且体型不小于你。你需要消耗 5 尺移动力进入树木。你立即知道 500 尺内所有同类树木的位置，并可选择从其中一棵走出（再消耗 5 尺移动力）或留在原树中。</p><p>每回合你可以使用一次此传送能力。你必须在回合结束时处于树外。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },

  // ==========================================
  // 预言系 (Divination)
  // ==========================================
  {
    id: 'commune',
    name: '通神术',
    level: 5,
    school: 'divination',
    ritual: true,
    castingTime: '1 分钟',
    range: '自身',
    components: { v: true, s: true, m: '熏香和一瓶圣水或秽水' },
    concentration: false,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>你联系你的神祇或神圣代理人，并提出至多三个可用“是”或“否”回答的问题。每次提问你都能获得正确答案。若问题超出神祇知晓范围则回答“不清楚”。若单字回答具有误导性，DM 可提供短语回答。</p><p>若你在完成下一次长休前再次施展此法术，除第一次外，每次施法都有 25% 的累积几率得不到回答。</p>',
    scaling: '无',
    classes: ['cleric'], // 圣武士(奉献之誓/征服之誓)
    cantripScaling: false
  },
  {
    id: 'commune_with_nature',
    name: '沟通自然',
    level: 5,
    school: 'divination',
    ritual: true,
    castingTime: '1 分钟',
    range: '自身',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '自身(3英里或300尺)',
    attackType: 'none',
    description: '<p>你短暂地与大自然融为一体，获得周围地域的知识。户外范围为 3 英里，洞穴等地下环境限制为 300 尺。在人造环境（如城镇地牢）无效。</p><p>你立即获得关于以下主题至多三项事实：</p><ul><li>地形和水体</li><li>常见的植物、矿物、动物或类人生物</li><li>强大的天界、精类、邪魔、元素或不死生物</li><li>来自其他位面的影响</li><li>建筑物</li></ul>',
    scaling: '无',
    classes: ['druid', 'ranger'], // 圣武士(古贤之誓)
    cantripScaling: false
  },
  {
    id: 'contact_other_plane',
    name: '异界探知',
    level: 5,
    school: 'divination',
    ritual: true,
    castingTime: '1 分钟',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '1 分钟',
    target: '自身',
    attackType: 'save',
    saveAttr: 'int',
    damage: '6d6',
    damageType: 'psychic',
    description: '<p>你在精神上联系异界实体（半神、亡故智者等）。施法时需进行 DC 15 的智力豁免。失败则受 6d6 点心灵伤害并陷入疯狂直到完成长休。疯狂期间无法行动、理解语言或阅读，只会胡言乱语。</p><p>若豁免成功，你可以问实体至多五个问题。DM 用单字回答（如“是”、“否”、“也许”）。若单字回答具有误导性，DM 可提供短语。</p>',
    scaling: '无',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'legend_lore',
    name: '通晓传奇',
    level: 5,
    school: 'divination',
    ritual: false,
    castingTime: '10 分钟',
    range: '自身',
    components: { v: true, s: true, m: '价值至少 250gp 的熏香（法术会消耗掉）以及四条价值至少 50gp 的象牙条' },
    concentration: false,
    duration: '立即',
    target: '自身',
    attackType: 'none',
    description: '<p>说出或描述一个人、地点或物体。该法术会将关于你所命名事物的相关重要传说简要地带入你的脑海。这些传说可能包含当前的传闻、被遗忘的故事，甚至是鲜为人知的隐秘传说。如果你命名的东西不具有传奇重要性，你将不会获得任何信息。你对该事物已知的信息越多，你获得的信息就越精确和详细。</p><p>你获知的信息是准确的，但可能通过比喻性的语言来表达。例如，如果你手头有一把神秘的魔法斧头，法术可能会产生这样的信息：“灾祸将降临到触碰此斧的恶徒手上，因为即便是斧柄也会切开邪恶之人的手。只有真正的石之子，摩拉丁的爱人与被爱者，才能唤醒此斧的真正力量，且必须嘴唇轻颂神圣之词 Rudnogg。”</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'rarys_telepathic_bond',
    name: '拉瑞心灵联结',
    level: 5,
    school: 'divination',
    ritual: true,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '两块不同生物的蛋壳碎片' },
    concentration: false,
    duration: '1 小时',
    target: '至多8个自愿生物',
    attackType: 'none',
    description: '<p>你在射程内至多八个自愿生物间建立心灵感应链接。智力 2 或更低生物不受影响。</p><p>直到法术结束，目标间可通过心灵感应交流，无视语言障碍。只要在同一位面，交流距离无限制。</p>',
    scaling: '无',
    classes: ['wizard'], // 奇械师/和平牧师
    cantripScaling: false
  },
  {
    id: 'scrying',
    name: '探知',
    level: 5,
    school: 'divination',
    ritual: false,
    castingTime: '10 分钟',
    range: '自身',
    components: { v: true, s: true, m: '价值至少1000gp的器材（水晶球、银镜或盛满圣水的水盆）' },
    concentration: true,
    duration: '10 分钟',
    target: '一个生物或地点',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你可以看见并听见同一位面内的一个选定生物。目标需进行感知豁免（受熟悉程度和连接物修正）。若目标知道你在施法，可自愿失败。</p><p>若豁免成功，目标不受影响，且 24 小时内免疫此法术。若豁免失败，一个隐形传感器出现在目标 10 尺内并随其移动。你能通过传感器视听。能识破隐形的生物会看到一个拳头大的发光球体。</p><p>你也可以选择一个你曾见过的地点作为目标，传感器出现在该处且不移动。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid', 'warlock', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 惑控系 (Enchantment)
  // ==========================================
  {
    id: 'dominate_person',
    name: '支配人类',
    level: 5,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个类人生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你试图控制射程内一个你可见的类人生物。它必须进行感知豁免，失败则被你魅惑。若你或同伴正在与它战斗，它具有优势。</p><p>当它被魅惑时，你们之间有心灵感应（需同位面）。你可以下达命令（无须动作），它会尽力执行。若无命令，它只会自卫。你可以用动作完全控制它，直到你下个回合结束，它只执行你选择的动作。</p><p>每当它受到伤害，它可再次进行感知豁免，成功则法术结束。</p>',
    scaling: '6环(专注10分钟), 7环(专注1小时), 8环及以上(专注8小时)',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'geas',
    name: '指使术',
    level: 5,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 分钟',
    range: '60 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '30 天',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你对射程内一个你可见的生物下达一道魔法命令，强迫其执行某项服务或避免某种行为。若生物能听懂你的话，它必须进行感知豁免。失败则被你魅惑。当被魅惑时，若它做出违背你指令的行为，它受到 5d10 点心灵伤害。每天只能受一次此伤害。</p><p>你可以下达任何不致死的命令。若命令会导致自杀，法术结束。你可以用动作解除法术。<i>移除诅咒</i>、<i>高等复原术</i>或<i>愿望术</i>也能结束它。</p>',
    scaling: '7-8环(1年), 9环(永久)',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'hold_monster',
    name: '怪物定身术',
    level: 5,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一小根直铁条' },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>选择射程内你可见的一个生物。目标必须进行感知豁免，失败则被麻痹。该法术对不死生物无效。在目标的每个回合结束时，它可以再次进行感知豁免，成功则法术结束。</p>',
    scaling: '6环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'modify_memory',
    name: '修改记忆',
    level: 5,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你试图重塑另一个生物的记忆。选择一个你可见的生物，该目标必须进行一次感知豁免。如果你正在与该生物战斗，它在豁免检定中具有优势。若豁免失败，目标在法术持续期间被你魅惑。被魅惑的目标陷入失能状态，并且对周围环境失去意识，虽然它仍然能听到你的声音。如果它受到任何伤害或成为另一个法术的目标，此法术结束，且目标的记忆不会被修改。</p><p>在魅惑持续期间，你可以影响目标对过去 24 小时内发生的、持续时间不超过 10 分钟的某一事件的记忆。你可以永久消除对该事件的所有记忆，让目标以完美的清晰度和精确的细节回忆该事件，改变其对事件细节的记忆，或者创造一个关于其他事件的记忆。</p><p>你必须对目标说话，描述其记忆如何被修改，并且它必须能听懂你的语言，修改后的记忆才能生根。它的思维会填补你描述中的任何细节空白。如果在你完成描述修改后的记忆之前法术结束，该生物的记忆不会被改变。否则，修改后的记忆在法术结束时生效。</p><p>修改后的记忆不一定会影响生物的行为，特别是当该记忆与该生物的本性、阵营或信仰相矛盾时。不合逻辑的修改记忆，例如植入该生物非常享受将自己浸泡在酸液中的记忆，会被视为一场噩梦而被驳回。DM 可能会判定修改后的记忆过于荒谬，无法对生物产生重大影响。</p><p>对目标施展<i>移除诅咒 (Remove Curse)</i> 或 <i>高等复原术 (Greater Restoration)</i> 可以恢复该生物的真实记忆。</p>',
    scaling: '如果你使用 6 环或更高环阶的法术位施展此法术，你可以改变目标过去更久之前的事件记忆：6 环为 7 天前，7 环为 30 天前，8 环为 1 年前，9 环为该生物过去的任何时间。',
    classes: ['bard', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'synaptic_static',
    name: '突触静止',
    level: 5,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '20尺半径球状区域',
    attackType: 'save',
    saveAttr: 'int',
    damage: '8d6',
    damageType: 'psychic',
    description: '<p>你引发一场心灵能量爆炸。射程内一点周围 20 尺半径球状区域内的每个生物必须进行智力豁免（智力 2 或更低无效）。失败受 8d6 点心灵伤害，成功减半。</p><p>豁免失败者思维混乱 1 分钟。期间，它的攻击检定、属性检定以及维持专注的体质豁免都要减去一个 d6 的结果。它可以在每回合结束时再次进行智力豁免以结束此效果。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 塑能系 (Evocation)
  // ==========================================
  {
    id: 'bigbys_hand',
    name: '毕格比之手',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '蛋壳和蛇皮手套' },
    concentration: true,
    duration: '1 分钟',
    target: '创造一只大型魔法手',
    attackType: 'melee',
    damage: '4d8',
    damageType: 'force',
    description: '<p>你在射程内一处你可见的未被占据空间创造出一只闪烁、半透明的大型力场手。这只手在法术持续期间一直存在，并会随着你的指令移动，模仿你自己的手部动作。</p><p>这只手是一个物体，其 AC 为 20，生命值等于你的生命值上限。如果其生命值降至 0，法术结束。它的力量为 26（+8），敏捷为 10（+0）。这只手不会填满其所在的空间。</p><p>当你施展此法术时，以及在你随后的每个回合中作为附赠动作，你可以让这只手移动至多 60 尺，并引发下列效果之一：</p><ul><li><b>握拳 (Clenched Fist)：</b>这只手攻击其周围 5 尺内的一个生物或物体。使用你的游戏数据为此手进行一次近战法术攻击。若命中，目标受到 4d8 点力场伤害。</li><li><b>推手 (Forceful Hand)：</b>这只手试图将周围 5 尺内的一个生物推向你选择的方向。让这只手进行一次力量检定，与目标的体质（运动）检定进行对抗。如果目标是中型或更小的生物，你在该检定中具有优势。如果你获胜，这只手将目标推开，距离为 5 尺加上你的施法关键属性调整值乘以 5 尺。这只手随目标一同移动，以保持在目标 5 尺范围内。</li><li><b>擒拿 (Grasping Hand)：</b>这只手试图擒抱周围 5 尺内的一个巨型或更小的生物。你使用这只手的力量值来解决擒抱。如果目标是中型或更小的生物，你在该检定中具有优势。当这只手擒抱目标时，你可以使用附赠动作让手挤压目标。当你这样做时，目标受到 2d6 + 你施法关键属性调整值点钝击伤害。</li><li><b>护手 (Interposing Hand)：</b>这只手介入你和你选择的一个生物之间，直到你给这只手下达别的命令。这只手会移动以保持在你和目标之间，为你提供针对该目标的半身掩护（Half Cover）。如果目标的力量值小于或等于这只手的力量值，则目标无法穿过这只手所在的空间。如果目标的力量值高于这只手，则目标可以穿过这只手所在的空间移向你，但该空间对目标而言视为困难地形。</li></ul>',
    scaling: '当你使用 6 环或更高环阶的法术位施展此法术时，每比 5 环高一环，握拳选项的伤害增加 2d8，擒拿选项的伤害增加 2d6。',
    classes: ['sorcerer', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'cone_of_cold',
    name: '寒冰锥',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一个小水晶或玻璃锥' },
    concentration: false,
    duration: '立即',
    target: '60尺锥状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '8d8',
    damageType: 'cold',
    description: '<p>一股冷气从你手中喷出。60 尺锥状区域内的每个生物必须进行体质豁免。失败者受到 8d8 点冷冻伤害，成功者减半。</p><p>被此法术杀死的生物变成冰冻雕像，直到解冻。</p>',
    scaling: '6环及以上(每高一环伤害+1d8)',
    classes: ['druid', 'sorcerer', 'wizard'], // 奇械师(魔炮)
    cantripScaling: false
  },
  {
    id: 'dawn',
    name: '黎明',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '价值至少100gp的旭日吊坠' },
    concentration: true,
    duration: '1 分钟',
    target: '30尺半径圆柱体',
    attackType: 'save',
    saveAttr: 'con',
    damage: '4d10',
    damageType: 'radiant',
    description: '<p>黎明之光照耀射程内一点。30 尺半径、40 尺高的光柱（视为阳光）持续存在。当光柱出现时，以及生物在其中结束回合时，必须进行体质豁免。失败受 4d10 点光耀伤害，成功减半。</p><p>若你在光柱 60 尺内，可用附赠动作移动光柱 60 尺。</p>',
    scaling: '无',
    classes: ['cleric', 'wizard'], // 圣武士(TCE可选)
    cantripScaling: false
  },
  {
    id: 'destructive_wave',
    name: '破坏波',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '30尺半径球状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '5d6+5d6',
    // damageType: 'varied', // thunder + radiant/necrotic
    description: '<p>你重击地面，爆发神圣能量。周围 30 尺内你选择的每个生物必须进行体质豁免。失败者受到 5d6 点雷鸣伤害，以及 5d6 点光耀或黯蚀伤害（由你选择），并被击倒。成功者伤害减半且不被击倒。</p>',
    scaling: '无',
    classes: ['paladin'], // 暴风牧师
    cantripScaling: false
  },
  {
    id: 'flame_strike',
    name: '焰击术',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一撮硫磺' },
    concentration: false,
    duration: '立即',
    target: '10尺半径圆柱体',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '4d6+4d6',
    // damageType: 'varied', // fire + radiant
    description: '<p>一道神圣之火的垂直光柱从天而降。射程内 10 尺半径、40 尺高的圆柱区域内的每个生物必须进行敏捷豁免。失败者受到 4d6 点火焰伤害和 4d6 点光耀伤害，成功者减半。</p>',
    scaling: '6环及以上(火焰或光耀伤害之一+1d6)',
    classes: ['cleric', 'druid'], // 圣武士(荣耀/奉献)
    cantripScaling: false
  },
  {
    id: 'hallow',
    name: '圣居',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '24 小时',
    range: '触及',
    components: { v: true, s: true, m: '价值至少 1000gp 的草药、油和熏香，法术会消耗掉' },
    concentration: false,
    duration: '永久',
    target: '至多60尺半径区域',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你触碰一点，并将神圣（或亵渎）的力量灌注到以该点为中心、半径至多 60 尺的区域内。若该范围与另一个<i>圣居 (Hallow)</i> 法术的作用范围重叠，则施法失败。</p><p>受影响的区域具有以下属性：</p><p><b>第一，</b>天界生物、元素生物、精类生物、邪魔以及不死生物无法进入该区域，这些生物也无法魅惑、恐慌或附体该区域内的生物。若有生物在进入该区域时正处于被上述生物魅惑、恐慌或附体的状态，则该状态被移除。你可以选择从原本被阻挡的生物类别中排除一种或多种。</p><p><b>第二，</b>你可以为该区域绑定一种额外的效应。从以下列表中选择一种，或由 DM 提供一种效果。部分效果适用于区域内的生物；你可以指定该效果是适用于所有生物、还是只适用于信仰特定神祇或追随特定领袖的生物、亦或是只适用于特定种类的生物（如兽人或巨魔）。当一个受影响的生物在一个回合内第一次进入该区域，或在该区域内开始其回合时，它可以进行一次魅力豁免。若豁免成功，该生物在离开该区域前将无视此额外效应。</p><ul><li><b>勇气 (Courage)：</b>受影响的生物在该区域内无法陷入恐慌。</li><li><b>黑暗 (Darkness)：</b>黑暗充满该区域。普通光源，以及由环阶低于此法术施法环阶的法术所创造的魔法光亮，均无法照亮该区域。</li><li><b>昼明 (Daylight)：</b>明亮光照充满该区域。由环阶低于此法术施法环阶的法术所创造的魔法黑暗无法移除此光照。</li><li><b>能量防护 (Energy Protection)：</b>该区域内受影响的生物获得对一种伤害类型的抗性（由你选择），但在钝击、穿刺和挥砍中选择其一除外。</li><li><b>能量易伤 (Energy Vulnerability)：</b>该区域内受影响的生物获得对一种伤害类型的易伤（由你选择），但在钝击、穿刺和挥砍中选择其一除外。</li><li><b>永恒安息 (Everlasting Rest)：</b>埋葬在该区域内的尸体无法被转化为不死生物。</li><li><b>次元干涉 (Extradimensional Interference)：</b>受影响的生物无法在该区域内移动或旅行时使用传送，也无法使用异次元或跨位面手段。</li><li><b>恐惧 (Fear)：</b>受影响的生物在该区域内时处于恐慌状态。</li><li><b>沉默 (Silence)：</b>声音无法从该区域内发出，也无法从外部传入。</li><li><b>巧舌 (Tongues)：</b>受影响的生物可以与该区域内的任何其他生物交流，即使他们没有共同语言。</li></ul>',
    scaling: '无',
    classes: ['cleric'],
    cantripScaling: false
  },
  {
    id: 'holy_weapon',
    name: '神圣武器',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '一把武器',
    attackType: 'save',
    saveAttr: 'con',
    damage: '2d8',
    damageType: 'radiant',
    description: '<p>你将神圣力量灌注进一把触碰的武器。它发出光照，且命中时额外造成 2d8 光耀伤害。视为魔法武器。</p><p>你可以用附赠动作解散法术并引发爆发：武器周围 30 尺内你选择的生物需体质豁免。失败受 4d8 光耀伤害并目盲 1 分钟。成功减半且不目盲。</p>',
    scaling: '无',
    classes: ['cleric', 'paladin'],
    cantripScaling: false
  },
  {
    id: 'immolation',
    name: '献祭',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '8d6',
    damageType: 'fire',
    description: '<p>火焰吞噬射程内一个你可见的生物。目标必须进行敏捷豁免。失败受 8d6 点火焰伤害并开始燃烧，成功受一半伤害。燃烧目标发光，且在每回合结束时再次豁免。失败受 4d6 火焰伤害，成功则法术结束。被此法术杀死的生物化为灰烬。</p>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'maelstrom',
    name: '大漩涡',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '漏斗状的纸或叶子' },
    concentration: true,
    duration: '1 分钟',
    target: '30尺半径区域',
    attackType: 'save',
    saveAttr: 'str',
    damage: '6d6',
    damageType: 'bludgeoning',
    description: '<p>在射程内地面或水体中创造一个 30 尺半径、5 尺深的水漩涡。区域为困难地形。在其中开始回合的生物需力量豁免，失败受 6d6 钝击伤害并被拉向中心 10 尺。</p>',
    scaling: '无',
    classes: ['druid'],
    cantripScaling: false
  },
  {
    id: 'mass_cure_wounds',
    name: '群体治疗伤',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '至多6个生物',
    attackType: 'none',
    damage: '3d8', // 治疗
    description: '<p>治愈能量波从射程内一点涌出。该点周围 30 尺内的至多六个生物恢复生命值，数值等于 3d8 + 你的施法关键属性调整值。对不死生物和构装体无效。</p>',
    scaling: '6环及以上(每高一环治疗量+1d8)',
    classes: ['bard', 'cleric', 'druid'],
    cantripScaling: false
  },
  {
    id: 'storm_sphere',
    name: '风暴球',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '150 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '20尺半径球状区域',
    attackType: 'ranged',
    damage: '2d6',
    description: '<p>（注：此法术已在 4 环录入，此处重复出现可能是源数据问题，若为升环施法无需再次录入，请核对。）</p>',
    scaling: '无',
    classes: [],
    cantripScaling: false
  },
  {
    id: 'wall_of_force',
    name: '力墙术',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '一撮透明宝石粉末' },
    concentration: true,
    duration: '10 分钟',
    target: '力场墙体',
    attackType: 'none',
    description: '<p>你在射程内创造一道隐形力场墙。它可以是平面（10x10尺面板拼接）或半球/球体（半径10尺）。墙体免疫所有伤害，阻挡物体和法术穿过，也阻挡以太位面旅行。只有<i>解离术</i>能摧毁它。</p>',
    scaling: '无',
    classes: ['wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'wall_of_light',
    name: '光墙术',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '一面手镜' },
    concentration: true,
    duration: '10 分钟',
    target: '60尺长墙体',
    attackType: 'ranged',
    saveAttr: 'con',
    damage: '4d8',
    damageType: 'radiant',
    description: '<p>你创造一道明亮光墙。墙体阻挡视线但不阻挡移动。墙出现时区域内生物需体质豁免，失败受 4d8 光耀伤害并目盲 1 分钟，成功减半不目盲。在墙内结束回合受 4d8 光耀伤害。</p><p>你可以用动作从墙发射光束攻击 60 尺内生物（远程法术攻击，4d8 光耀伤害），每次发射使墙长度减少 10 尺。</p>',
    scaling: '6环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'wall_of_stone',
    name: '石墙术',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '一小块花岗岩' },
    concentration: true,
    duration: '10 分钟',
    target: '石制墙体',
    attackType: 'save',
    saveAttr: 'dex',
    description: '<p>你创造一道非魔法的实心石墙（6英寸厚）。你可以将其塑形（如桥梁、坡道）。若你包围一个生物，它可进行敏捷豁免以利用反应逃离。</p><p>石墙是物体（每段 AC 15，30 HP/英寸）。若专注维持满 10 分钟，墙体变为永久。</p>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'wrath_of_nature',
    name: '自然之怒',
    level: 5,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '60尺立方区域',
    attackType: 'ranged',
    description: '<p>你唤醒 60 尺立方区域内的自然精魂：</p><ul><li><b>草木</b>：地面变为困难地形。</li><li><b>树木</b>：每回合开始鞭打 10 尺内敌人（敏捷豁免，失败 4d6 挥砍伤害）。</li><li><b>根藤</b>：每回合结束束缚一个敌人（力量豁免，动作检定挣脱）。</li><li><b>岩石</b>：附赠动作投掷岩石（远程法术攻击，3d8 钝击伤害，力量豁免防倒地）。</li></ul>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },

  // ==========================================
  // 幻术系 (Illusion)
  // ==========================================
  {
    id: 'creation',
    name: '创造术',
    level: 5,
    school: 'illusion',
    ritual: false,
    castingTime: '1 分钟',
    range: '30 尺',
    components: { v: true, s: true, m: '一小片与你想创造物品材质相同的物质' },
    concentration: false,
    duration: '立即',
    target: '见描述',
    attackType: 'none',
    description: '<p>你从堕影冥界抽取阴影材料，在射程内制造出一个非活体的植物制品（如衣物、绳索、木头）。你也可以制造矿物制品（如石头、水晶、金属）。物体不能超过 5 尺立方，且必须是你曾见过的形态和材料。</p><p>持续时间取决于材料（若混合材料则取最短）：</p><ul><li>植物物质：1 天</li><li>岩石或水晶：12 小时</li><li>贵金属：1 小时</li><li>宝石：10 分钟</li><li>精金或秘银：1 分钟</li></ul><p>使用此法术创造的物品作为其他法术材料时，该法术会失败。</p>',
    scaling: '6环及以上(每高一环立方体边长+5尺)',
    classes: ['sorcerer', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'dream',
    name: '托梦术',
    level: 5,
    school: 'illusion',
    ritual: false,
    castingTime: '1 分钟',
    range: '见描述',
    components: { v: true, s: true, m: '一把沙子、一点墨水和一根从睡着的鸟身上拔下的羽毛' },
    concentration: false,
    duration: '8 小时',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    damage: '3d6',
    damageType: 'psychic',
    description: '<p>你塑造一个已知生物的梦境（需同位面，不睡眠生物如精灵无效）。你或一个自愿的中介者进入出神状态作为信使。</p><p>若目标入睡，信使进入其梦境并可与其交谈和塑造梦境环境。目标醒来后能清晰回忆。若你想，可让信使变得恐怖以传递不超过 10 个字的噩耗。目标需进行感知豁免。失败则被噩梦纠缠，无法获得休息收益，且醒来时受 3d6 点心灵伤害。</p><p>若你有目标的身体部分（头发、指甲等），其豁免具有劣势。</p>',
    scaling: '无',
    classes: ['bard', 'druid', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'mislead',
    name: '误导术',
    level: 5,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: false, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '自身',
    attackType: 'none',
    description: '<p>你变得隐形，同时在你站立处出现一个幻象替身。替身持续至法术结束，但若你攻击或施法，隐形结束。</p><p>你可以用动作移动替身（至多两倍速度）并让其做手势或说话。</p><p>你可以通过替身的感官视听。在你的每回合，你可以用附赠动作在替身感官和自身感官间切换。使用替身感官时，你的本体视为目盲和耳聋。</p>',
    scaling: '无',
    classes: ['bard', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'seeming',
    name: '伪装术',
    level: 5,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '8 小时',
    target: '任意数量生物',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你改变射程内任意数量可见生物的外貌。不愿意的目标可进行魅力豁免，成功则不受影响。</p><p>法术可伪装外貌、衣着和装备。体型改变不能超过 1 尺，且必须保持基本肢体结构。物理接触会穿过幻觉。生物可用动作进行智力（调查）检定对抗你的法术 DC 以识破伪装。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 死灵系 (Necromancy)
  // ==========================================
  {
    id: 'contagion',
    name: '疫病术',
    level: 5,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '7 天',
    target: '一个生物',
    attackType: 'melee',
    description: '<p>你的触碰会引发疾病。对你触及范围内的一个生物发动一次近战法术攻击。若命中，目标陷入中毒状态。</p><p>在中毒目标的每个回合结束时，该目标必须进行一次体质豁免。如果目标成功通过三次该豁免，它将不再中毒，且法术结束。如果目标失败三次该豁免，它将不再中毒，但会患上一种由你选择的疾病（见下文）。在法术持续期间，目标将承受该疾病的效果。</p><p>由于此法术会引发自然疾病，任何能够移除疾病或改善疾病症状的效果均适用于此法术。</p><ul><li><b>致盲症 (Blinding Sickness)：</b>痛苦攫取了该生物的心智，且其双眼变成乳白色。该生物在进行感知检定和感知豁免时具有劣势，并且陷入目盲状态。</li><li><b>腐热症 (Filth Fever)：</b>剧烈的发烧席卷该生物的身体。该生物在进行力量检定、力量豁免以及使用力量的攻击检定上具有劣势。</li><li><b>血肉腐坏 (Flesh Rot)：</b>该生物的血肉开始腐烂。该生物在进行魅力检定上具有劣势，并且对所有伤害具有易伤。</li><li><b>脑热症 (Mindfire)：</b>该生物的大脑开始发烧。该生物在进行智力检定和智力豁免上具有劣势，且在战斗中，该生物的行为如同受到<i>困惑术 (Confusion)</i> 影响一般。</li><li><b>抽搐症 (Seizure)：</b>该生物无法控制地颤抖。该生物在进行敏捷检定、敏捷豁免以及使用敏捷的攻击检定上具有劣势。</li><li><b>粘液疫 (Slimy Doom)：</b>该生物开始无法控制地流血。该生物在进行体质检定和体质豁免上具有劣势。此外，每当该生物受到伤害时，它将陷入震慑状态，直到其下个回合结束。</li></ul>',
    scaling: '无',
    classes: ['cleric', 'druid'],
    cantripScaling: false
  },
  {
    id: 'danse_macabre',
    name: '骷髅之舞',
    level: 5,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '至多5具尸体',
    attackType: 'none',
    description: '<p>黑暗力量从你指尖射出，复活射程内你可见的至多 5 具小型或中型尸体。尸体站起变为僵尸或骷髅（由你决定）。它们的攻击和伤害检定获得等于你施法属性调整值的加值。</p><p>你可以用附赠动作精神命令 60 尺内的这些生物。若无命令它们只会自卫。法术结束后它们变回尸体。</p>',
    scaling: '6环及以上(每高一环多复活2具)',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'enervation',
    name: '弱能术',
    level: 5,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '4d8',
    damageType: 'necrotic',
    description: '<p>漆黑的触须连接你和射程内一个生物。目标需进行敏捷豁免。成功受 2d8 黯蚀伤害且法术结束。失败受 4d8 黯蚀伤害，且法术持续。</p><p>直到法术结束，你每回合可用动作自动对目标造成 4d8 黯蚀伤害。每当法术造成伤害，你恢复等于伤害值一半的生命值。若你用动作做其他事、目标超出射程或获得掩护，法术结束。</p>',
    scaling: '6环及以上(每高一环伤害+1d8)',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'negative_energy_flood',
    name: '负能量洪流',
    level: 5,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: false, m: '一块碎骨和一片黑丝绸' },
    concentration: false,
    duration: '立即',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'con',
    damage: '5d12',
    damageType: 'necrotic',
    description: '<p>你向射程内一个生物发射负能量。若目标不是不死生物，需体质豁免，失败受 5d12 黯蚀伤害，成功减半。若被杀死则在下回合变为失控的僵尸并攻击最近生物。</p><p>若目标是不死生物，不进行豁免，而是获得 5d12 一半数值的临时生命值。</p>',
    scaling: '无',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'raise_dead',
    name: '死者复活',
    level: 5,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 小时',
    range: '触及',
    components: { v: true, s: true, m: '一颗价值至少500gp的钻石，法术会消耗掉' },
    concentration: false,
    duration: '立即',
    target: '一具尸体',
    attackType: 'none',
    description: '<p>你复活一个触碰到的死亡不超过 10 天的生物。若灵魂自愿且自由，它以 1 点生命值复活。法术会中和毒素并治愈非魔法疾病，但无法移除魔法疾病、诅咒或恢复缺失器官（若缺头则无效）。</p><p>复活者极其虚弱：攻击、豁免和属性检定受 -4 减值。每完成一次长休减值减少 1，直至消失。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'paladin'], // 奇械师(炼金术士)
    cantripScaling: false
  },

  // ==========================================
  // 变化系 (Transmutation)
  // ==========================================
  {
    id: 'animate_objects',
    name: '活化物体',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '至多10个非魔法物体',
    attackType: 'none',
    description: '<p>物体听从你的号令获得生命。选择射程内至多十个未被穿戴或携带的非魔法物体。中型目标算作两个物体，大型目标算作四个物体，巨型目标算作八个物体。你无法活化比巨型更大的物体。每个目标活化后成为受你控制的生物，直到法术结束或其生命值降至 0。</p><p>作为附赠动作，你可以在精神上命令任何由该法术创造且距离你 500 尺内的生物（如果你控制多个生物，你可以同时命令任意数量或全部生物，向它们下达相同的命令）。你可以决定该生物在下个回合采取什么动作以及如何移动，或者你可以下达一个一般性命令，例如守卫某个房间或走廊。如果你不下达命令，该生物只会保护自己免受敌对生物的伤害。一旦接到命令，该生物会持续执行，直到任务完成。</p><table class="table table-bordered"><thead><tr><th>体型</th><th>HP</th><th>AC</th><th>攻击</th><th>力量</th><th>敏捷</th></tr></thead><tbody><tr><td>微型</td><td>20</td><td>18</td><td>+8 命中, 1d4+4 伤害</td><td>4</td><td>18</td></tr><tr><td>小型</td><td>25</td><td>16</td><td>+6 命中, 1d8+2 伤害</td><td>6</td><td>14</td></tr><tr><td>中型</td><td>40</td><td>13</td><td>+5 命中, 2d6+1 伤害</td><td>10</td><td>12</td></tr><tr><td>大型</td><td>50</td><td>10</td><td>+6 命中, 2d10+2 伤害</td><td>14</td><td>10</td></tr><tr><td>巨型</td><td>80</td><td>10</td><td>+8 命中, 2d12+4 伤害</td><td>18</td><td>6</td></tr></tbody></table><p>活化物体是一个构装体，其 AC、生命值、攻击、力量和敏捷由其体型决定。它的体质为 10，智力和感知为 3，魅力为 1。它的速度为 30 尺；如果物体没有腿或其他用于移动的肢体，它改为具有 30 尺飞行速度并可以悬浮。如果物体被牢固地连接在表面或更大的物体上（例如栓在墙上的链条），其速度为 0。它拥有 30 尺半径的盲视，超出此范围则视为目盲。当活化物体的生命值降至 0 时，它恢复为原来的物体形态，任何剩余的伤害将由原物体形态承受。</p><p>如果你命令物体进行攻击，它可以对周围 5 尺内的一个生物发动一次近战攻击。它进行一次猛击（Slam），其攻击加值和钝击伤害由其体型决定。DM 可以裁定特定物体根据其形态造成挥砍或穿刺伤害。</p>',
    scaling: '当你使用 6 环或更高环阶的法术位施展此法术时，每比 5 环高一环，你可以额外活化两个物体。',
    classes: ['bard', 'sorcerer', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'awaken',
    name: '启蒙术',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '8 小时',
    range: '触及',
    components: { v: true, s: true, m: '一颗价值至少1000gp的玛瑙，法术会消耗掉' },
    concentration: false,
    duration: '立即',
    target: '一只野兽或植物',
    attackType: 'none',
    description: '<p>你触碰一个巨型或更小的野兽或植物。目标智力必须为 3 或更低。目标智力变为 10，并获得一种你已知语言的说话能力。若为植物，它获得感官和移动能力（如启蒙灌木/树木）。</p><p>启蒙生物被你魅惑 30 天，或直到你伤害它。之后它根据你对待它的方式决定是否保持友善。</p>',
    scaling: '无',
    classes: ['bard', 'druid'],
    cantripScaling: false
  },
  {
    id: 'control_winds',
    name: '操控风力',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '300 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '100尺立方区域',
    attackType: 'save',
    saveAttr: 'str',
    description: '<p>你控制射程内你可见的一个 100 尺立方的空气区域。施法时，从以下效果中选择一种。该效果在法术持续期间一直存在，除非你在之后的回合中使用动作切换为另一种效果。你也可以使用动作暂时停止效果，或重新启动已停止的效果。</p><ul><li><b>阵风 (Gusts)：</b>一股风在立方体内刮起，并持续向你指定的水平方向吹拂。你可以选择风的强度：平静、温和或强风。如果风力为温和或强风，穿过该区域或针对该区域内目标的远程武器攻击在攻击检定上具有劣势。如果风力为强风，任何逆风移动的生物每移动 1 尺必须多消耗 1 尺移动力。</li><li><b>下沉气流 (Downdraft)：</b>你引发一股持续的强风从立方体顶部向下吹。穿过该立方体或针对该区域内目标的远程武器攻击在攻击检定上具有劣势。如果一个生物在回合内第一次飞进该立方体或在该区域内飞行并开始其回合，它必须进行一次力量豁免。若豁免失败，该生物被击倒（Prone）。</li><li><b>上升气流 (Updraft)：</b>你在立方体内引发一股持续的上升气流，从底部向上吹。在该立方体内结束坠落的生物只受到一半的坠落伤害。当立方体内的生物进行垂直跳跃时，该生物可以比正常情况跳得高 10 尺。</li></ul>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'passwall',
    name: '穿墙术',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一撮芝麻' },
    concentration: false,
    duration: '1 小时',
    target: '表面',
    attackType: 'none',
    description: '<p>你在射程内木质、泥灰或石质表面（墙壁、天花板或地板）上创造一个通道。通道至多 5 尺宽、8 尺高、20 尺深。通道不破坏结构稳定性。法术结束时，通道内的生物被安全排出。</p>',
    scaling: '无',
    classes: ['wizard'], // 奇械师(TCE)
    cantripScaling: false
  },
  {
    id: 'reincarnate',
    name: '转生术',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 小时',
    range: '触及',
    components: { v: true, s: true, m: '价值至少1000gp的稀有油膏，法术会消耗掉' },
    concentration: false,
    duration: '立即',
    target: '死亡类人生物的一部分',
    attackType: 'none',
    description: '<p>你触碰一个死亡不超过 10 天的类人生物尸体或一部分。法术为该生物创造一个新的成年躯体并呼唤其灵魂进入。DM 投 d100 决定新种族（通常会改变种族）。生物保留生前记忆和能力，但种族特质改变。</p>',
    scaling: '无',
    classes: ['druid'],
    cantripScaling: false
  },
  {
    id: 'skill_empowerment',
    name: '技能赋能',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物，使其在某项技能上获得专精。选择一项该生物已熟练的技能。直到法术结束，该生物在使用该技能进行属性检定时，熟练加值翻倍。无法对已有专精效果的技能生效。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'swift_quiver',
    name: '迅捷箭袋',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '触及',
    components: { v: true, s: true, m: '一个装有至少一支弹药的箭袋' },
    concentration: true,
    duration: '1 分钟',
    target: '一个箭袋',
    attackType: 'none',
    description: '<p>你转化箭袋使其产生无限非魔法弹药。在法术结束前的你每个回合，你可以用附赠动作使用该箭袋弹药进行两次远程武器攻击。</p>',
    scaling: '无',
    classes: ['ranger'],
    cantripScaling: false
  },
  {
    id: 'telekinesis',
    name: '心灵遥控',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '一个生物或物体',
    attackType: 'none',
    description: '<p>你可以用思维移动物体或生物。每回合用动作指定 60 尺内一个目标：</p><ul><li><b>生物</b>：对巨型或更小生物进行属性检定对抗（施法属性 vs 力量）。成功则移动 30 尺并束缚其至下回合结束。</li><li><b>物体</b>：可移动至多 1000 磅物体 30 尺。若物体被穿戴携带，需进行对抗。可进行精细操作（如开门）。</li></ul>',
    scaling: '无',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'transmute_rock',
    name: '转化岩石',
    level: 5,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '黏土和水' },
    concentration: false,
    duration: '永久',
    target: '40尺立方区域',
    attackType: 'save',
    saveAttr: 'str', // 化石为泥需力量豁免，化泥为石需敏捷豁免
    damage: '4d8', // 泥浆掉落伤害
    damageType: 'bludgeoning',
    description: '<p>你选定距离内，你能看到的，不超过 40 立方尺区域内的岩石或泥土，并选择下述效果之一。</p><p><b>化石为泥｜Transmute Rock to Mud</b>：该区域内任何种类的非魔法石块在法术的持续时间内变成等量的稀薄、可流动的泥浆。</p><p>若你将法术施放在一处区域或地表，其将变得足够瘫软，足以令生物陷入其中。生物穿过泥浆的每尺均消耗 4 尺的移动力，而在你施法时处于该区域内的生物需要进行一次力量豁免检定。若一个生物在一个回合内第一次进入此区域，或在此区域内结束其回合，其也需要进行此豁免检定。若豁免失败，其将没入泥浆并被束缚，虽然他可以以一个动作来把自己拽出泥浆以结束束缚。</p><p>若你对天花板施放此法术，泥浆会掉落。在泥浆掉落时处于其下方的所有生物必须进行一次敏捷豁免检定。若检定失败则该生物受到 4d8 钝击伤害，检定成功者只受到上述伤害的一半。</p><p><b>化泥为石｜Transmute Mud to Rock</b>：在法术的持续时间内，区域内不超过 10 尺深的非魔法泥土或流沙变为柔软的岩石。在变化的泥土中的生物需要进行一次敏捷豁免检定。若豁免成功，该生物安全的移动到未被占据的一处地表上。若豁免失败，该生物被岩石所束缚。被束缚的生物、或者是其他可以触及到它的生物，可以使用一个动作以试图通过一次力量检定（DC20）来令其脱困。岩石拥有 AC15 和 25 HP，并且免疫毒素和精神伤害。</p>',
    scaling: '无',
    classes: ['druid', 'wizard'], // 奇械师
    cantripScaling: false
  },
];