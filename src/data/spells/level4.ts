// src/data/spells/level4.ts
import type { SpellDefinition } from '../../types/Spell';

export const LEVEL_4_SPELLS: SpellDefinition[] = [
  // ==========================================
  // 防护系 (Abjuration)
  // ==========================================
  {
    id: 'aura_of_life',
    name: '生命灵光',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '30尺半径灵光',
    attackType: 'none',
    description: '<p>护命能量从你身上散发，形成 30 尺半径的灵光。灵光以你为中心随你移动。灵光内的每个非敌对生物（包括你）对黯蚀伤害具有抗性，且生命值上限无法被降低。此外，若一个非敌对生物以 0 生命值在灵光内开始其回合，它恢复 1 点生命值。</p>',
    scaling: '无',
    classes: ['paladin', 'cleric'], // TCE 加入牧师
    cantripScaling: false
  },
  {
    id: 'aura_of_purity',
    name: '净化灵光',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '30尺半径灵光',
    attackType: 'none',
    description: '<p>净化能量从你身上散发，形成 30 尺半径的灵光。灵光以你为中心随你移动。灵光内的每个非敌对生物（包括你）免疫疾病，对毒素伤害具有抗性，且在对抗以下状态的豁免检定中具有优势：目盲、魅惑、耳聋、恐慌、麻痹、中毒和震慑。</p>',
    scaling: '无',
    classes: ['paladin', 'cleric'], // TCE 加入牧师
    cantripScaling: false
  },
  {
    id: 'banishment',
    name: '放逐术',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一件令目标厌恶的物品' },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你试图将射程内一个你可见的生物送往另一个位面。目标必须进行一次魅力豁免。若失败，目标被放逐。</p><p>如果目标原籍于你所在的位面，你将目标放逐到一个无害的半位面。目标在那里陷入失能状态。目标一直留在那里直到法术结束，此时目标重新出现在它离开时的空间；如果该空间被占据，则出现在最近的未被占据空间。</p><p>如果目标原籍于这一位面以外的位面，目标伴随着轻微的爆裂声被放逐，返回其家乡位面。如果法术在 1 分钟结束前终止，目标重新出现在它离开时的空间；如果该空间被占据，则出现在最近的未被占据空间。否则，目标不再返回。</p>',
    scaling: '当你使用 5 环或更高环阶的法术位施展此法术时，每比 4 环高一环，你可以额外指定一个生物作为目标。',
    classes: ['cleric', 'paladin', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'death_ward',
    name: '防死结界',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '8 小时',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你触碰一个生物，给予它对死亡的保护。</p><p>当目标第一次因受到伤害而生命值降至 0 时，它生命值变为 1 且法术结束。</p><p>若法术仍在生效，而目标受到不造成伤害即致死的即死效果影响，该效果被无效化，且法术结束。</p>',
    scaling: '无',
    classes: ['cleric', 'paladin'],
    cantripScaling: false
  },
  {
    id: 'freedom_of_movement',
    name: '行动自如',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一条皮带，绑在手臂或类似肢体上' },
    concentration: false,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物。在法术持续期间，目标的移动不受困难地形影响，法术和其他魔法效应既无法降低其速度，也无法使其麻痹或束缚。</p><p>目标还可以消耗 5 尺移动力自动挣脱非魔法束缚（如镣铐或被擒抱）。最后，在水下并不影响目标的移动和攻击。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'mordenkainens_private_sanctum',
    name: '摩登肯私人密室',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '10 分钟',
    range: '120 尺',
    components: { v: true, s: true, m: '一片铅薄片、一块不透明玻璃、一团棉花或布料，以及粉状贵橄榄石' },
    concentration: false,
    duration: '24 小时',
    target: '至多100尺立方区域',
    attackType: 'none',
    description: '<p>你在射程内创造一个魔法保安区域。区域为立方体，边长从 5 尺到 100 尺不等。施法时，你可以选择以下任意或所有属性：</p><ul><li>声音无法穿过结界。</li><li>结界外观黑暗朦胧，阻挡视线（含黑暗视觉）。</li><li>预言系法术创造的传感器无法在内部出现或穿过结界。</li><li>区域内生物无法被预言法术锁定。</li><li>无法传送进出该区域。</li><li>该区域内阻断位面旅行。</li></ul><p>若在同一地点连续施法一年，效果变为永久。</p>',
    scaling: '5环及以上(每高一环立方体边长+100尺)',
    classes: ['wizard'],
    cantripScaling: false
  },
  {
    id: 'stoneskin',
    name: '石肤术',
    level: 4,
    school: 'abjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '价值100gp的钻石粉末，法术会消耗掉' },
    concentration: true,
    duration: '1 小时',
    target: '一个自愿生物',
    attackType: 'none',
    description: '<p>你触碰一个自愿生物，使其皮肤变得如石头般坚硬。在法术持续期间，目标对非魔法的钝击、穿刺和挥砍伤害具有抗性。</p>',
    scaling: '无',
    classes: ['druid', 'ranger', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 咒法系 (Conjuration)
  // ==========================================
  {
    id: 'conjure_minor_elementals',
    name: '召唤次级元素',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 分钟',
    range: '90 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 小时',
    target: '见描述',
    attackType: 'none',
    description: '<p>你召唤元素生物。它们出现在射程内你可见的未被占据空间。关于出现的生物，你可以选择以下一种选项：</p><ul><li>一只挑战等级 2 或更低的元素生物</li><li>两只挑战等级 1 或更低的元素生物</li><li>四只挑战等级 1/2 或更低的元素生物</li><li>八只挑战等级 1/4 或更低的元素生物</li></ul><p>当被召唤的元素生物生命值降为 0 或法术结束时，它们消失。</p><p>被召唤的生物对你和你的同伴友善。将所有召唤生物作为一个群体投掷先攻，它们拥有自己的回合。它们听从你的口头命令（无须动作）。如果你不发令，它们只会保护自己免受敌对生物伤害，此外不采取任何动作。</p><p>DM 拥有这些生物的数据。</p>',
    scaling: '当你使用 6 环法术位施展此法术时，出现的生物数量翻倍。使用 8 环法术位时，数量变为三倍。',
    classes: ['druid', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'conjure_woodland_beings',
    name: '召唤林地存在',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '每召唤一个生物需一颗冬青浆果' },
    concentration: true,
    duration: '1 小时',
    target: '见描述',
    attackType: 'none',
    description: '<p>你召唤精类生物。它们出现在射程内你可见的未被占据空间。关于出现的生物，你可以选择以下一种选项：</p><ul><li>一只挑战等级 2 或更低的精类生物</li><li>两只挑战等级 1 或更低的精类生物</li><li>四只挑战等级 1/2 或更低的精类生物</li><li>八只挑战等级 1/4 或更低的精类生物</li></ul><p>当被召唤的生物生命值降为 0 或法术结束时，它们消失。</p><p>被召唤的生物对你和你的同伴友善。将所有召唤生物作为一个群体投掷先攻，它们拥有自己的回合。它们听从你的口头命令（无须动作）。如果你不发令，它们只会保护自己免受敌对生物伤害，此外不采取任何动作。</p><p>DM 拥有这些生物的数据。</p>',
    scaling: '当你使用 6 环法术位施展此法术时，出现的生物数量翻倍。使用 8 环法术位时，数量变为三倍。',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'dimension_door',
    name: '任意门',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '500 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '自身及一个生物',
    attackType: 'none',
    description: '<p>你将自己从当前位置传送至射程内任何其他位置。你可以精确到达你想去的地方。它可以是你看见的地方，也可以是你想象出或以距离方向描述的地方，例如“向下 200 尺”或“向西北方 45 度角向上 300 尺”。</p><p>你可以携带物品，只要其重量不超过你的负重上限。你还可以带同一个在你周围 5 尺内、体型不大于你且自愿的生物（及其携带的装备，需在其负重上限内）。</p><p>如果你将到达的地方已经被物体或生物占据，你和随行生物各受到 4d6 点力场伤害，且传送失败。</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'evards_black_tentacles',
    name: '艾伐黑触手',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一段巨型章鱼或巨型乌贼的触手' },
    concentration: true,
    duration: '1 分钟',
    target: '20尺方形区域',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '3d6',
    damageType: 'bludgeoning',
    description: '<p>蠕动的黑色触手充满射程内你可见地面上的一个 20 尺方形区域。在法术持续期间，这些触手使该区域变为困难地形。</p><p>当一个生物在一个回合内第一次进入该区域，或在该区域内开始其回合时，该生物必须进行一次敏捷豁免。若豁免失败，该生物受到 3d6 点钝击伤害，并在法术持续期间被触手束缚。如果一个生物在回合开始时已经被触手束缚，它受到 3d6 点钝击伤害。</p><p>被触手束缚的生物可以使用其动作进行一次力量或敏捷检定（由其选择）对抗你的法术豁免 DC。若成功，该生物获得解脱。</p>',
    scaling: '无',
    classes: ['wizard'], // 邪术师(旧日支配者)
    cantripScaling: false
  },
  {
    id: 'find_greater_steed',
    name: '寻获高等坐骑',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '10 分钟',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '召唤一只高等坐骑',
    attackType: 'none',
    description: '<p>你召唤一个精魂，化身为强大忠诚的坐骑。形态可选：狮鹫、佩加苏斯、佩利冬、恐狼、犀牛或剑齿虎（数据见《怪物图鉴》）。其生物类型为天界、精类或邪魔（由你选择）。若其智力为 5 或更低，则变为 6，并能理解一种你的语言。</p><p>你在战斗中控制坐骑。在 1 英里内可与其心灵感应。骑乘时，你施展的只针对自己的法术可同时针对坐骑。</p><p>你同一时间只能拥有一个通过此法术或<i>寻获坐骑</i>召唤的坐骑。</p>',
    scaling: '无',
    classes: ['paladin'],
    cantripScaling: false
  },
  {
    id: 'grasping_vine',
    name: '纠缠藤蔓',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一根藤蔓',
    attackType: 'save',
    saveAttr: 'dex',
    description: '<p>你召唤一根藤蔓从射程内你可见的一处未被占据空间长出。施法时，你可以指挥藤蔓抽击其周围 30 尺内你可见的一个生物。该生物必须进行敏捷豁免，失败则被直接拉向藤蔓 20 尺。</p><p>直到法术结束，你可以用附赠动作指挥藤蔓再次抽击同个生物或另一个生物。</p>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'guardian_of_faith',
    name: '信仰守卫',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '8 小时',
    target: '召唤一个守卫',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '20', // 固定伤害
    damageType: 'radiant',
    description: '<p>一个大型幽灵守卫出现在射程内你可见的一处未被占据空间。它占据该空间，模糊不清，只显现出一把闪光的剑和刻有你神祇徽记的盾牌。</p><p>任何对你敌对的生物在回合内首次移动到守卫周围 10 尺内时，必须进行敏捷豁免。失败受到 20 点光耀伤害，成功减半。当守卫造成的伤害累计达到 60 点时消失。</p>',
    scaling: '无',
    classes: ['cleric'], // 圣武士(王冠/奉献)
    cantripScaling: false
  },
  {
    id: 'leomunds_secret_chest',
    name: '雷欧蒙秘藏箱',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '一个精致箱子（3x2x2尺，价值至少5000gp）和一个微型复制品（价值至少50gp）' },
    concentration: false,
    duration: '立即',
    target: '一个箱子',
    attackType: 'none',
    description: '<p>你将一个箱子及其内容物藏入以太位面。你必须触碰箱子和作为材料的微型复制品。箱子可容纳 12 立方尺非活体物质。</p><p>当箱子在以太位面时，你可以用动作触碰复制品召回箱子至你周围 5 尺内。你也可以用动作触碰两者将箱子送回。</p><p>60 天后，每天有累积 5% 几率效果终止。若终止，箱子若在以太位面则永久遗失。</p>',
    scaling: '无',
    classes: ['wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'mordenkainens_faithful_hound',
    name: '摩登肯忠犬',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一个微型银哨、一块骨头和一根线' },
    concentration: false,
    duration: '8 小时',
    target: '召唤一只魅影犬',
    attackType: 'melee',
    damage: '4d8',
    damageType: 'piercing',
    description: '<p>你在射程内唤出一只魅影看门犬。它不可被除你以外的生物看见，且免疫伤害。当小型或更大生物进入其 30 尺内且未说出口令时，它会大声吠叫。</p><p>在你的每回合开始时，忠犬会尝试咬其 5 尺内一个对你敌对的生物。攻击加值等于你的施法属性调整值 + 熟练加值。命中造成 4d8 点穿刺伤害。</p>',
    scaling: '无',
    classes: ['wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'summon_aberration',
    name: '召唤异怪',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '装在白金镶嵌瓶中的腌制触手和眼球，价值至少400gp' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个异怪精魂',
    attackType: 'none',
    description: '<p>你唤来一个异怪精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“异怪精魂”的数据板。施法时，你选择形态：眼魔眷属 (Beholderkin)、史拉蟾 (Slaad) 或星之子 (Star Spawn)。该形态决定了数据板中的一项特质。</p><p>该生物对你和同伴友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。</p>',
    scaling: '5环及以上(提升精魂数据板中的等级)',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'summon_construct',
    name: '召唤构装体',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一个华丽的石制和金属制锁盒，价值至少400gp' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个构装精魂',
    attackType: 'none',
    description: '<p>你唤来一个构装体精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“构装体精魂”的数据板。施法时，你选择材料：粘土 (Clay)、金属 (Metal) 或岩石 (Stone)。该材料决定了数据板中的一项特质。</p><p>该生物对你和同伴友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。</p>',
    scaling: '4环及以上(提升精魂数据板中的等级)',
    classes: ['wizard', 'warlock'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'summon_elemental',
    name: '召唤元素',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '装在金镶嵌瓶中的空气、卵石、灰烬和水，价值至少400gp' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个元素精魂',
    attackType: 'none',
    description: '<p>你唤来一个元素精魂。它显现在射程内你可见的一处未被占据空间。该实体形态使用“元素精魂”的数据板。施法时，你选择元素：气、土、火或水。该元素决定了数据板中的一项特质。</p><p>该生物对你和同伴友善。在战斗中，它和你共享先攻，但紧随你的回合后行动。它听从你的口头命令（无须动作）。</p>',
    scaling: '5环及以上(提升精魂数据板中的等级)',
    classes: ['druid', 'ranger', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'summon_greater_demon',
    name: '召唤高等恶魔',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一小瓶过去24小时内被杀死的类人生物血液' },
    concentration: true,
    duration: '1 小时',
    target: '召唤一个恶魔',
    attackType: 'save',
    saveAttr: 'cha',
    description: '<p>你从无底深渊召唤一只挑战等级 5 或更低的恶魔（如影魔或巴古拉魔）。恶魔出现在射程内。恶魔有自己的先攻回合。</p><p>每回合你可以向其发出指令。若不指令，它攻击触及内曾攻击过它的生物。在恶魔的每回合结束时，它进行魅力豁免（若你说出其真名则具有劣势）。失败则继续听命；成功则失控，攻击最近的非恶魔生物。</p><p>若你在法术未达时限时停止专注，失控的恶魔不会立即消失，而是再存留 1d6 回合。你可以用血液画圈保护自己。</p>',
    scaling: '5环及以上(挑战等级上限每高一环+1)',
    classes: ['warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'watery_sphere',
    name: '水球术',
    level: 4,
    school: 'conjuration',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '一滴水' },
    concentration: true,
    duration: '1 分钟',
    target: '5尺半径球体',
    attackType: 'save',
    saveAttr: 'str',
    description: '<p>你在射程内创造一个 5 尺半径的水球。水球可悬浮在离地至多 10 尺处。处于水球空间内的生物必须进行力量豁免。成功者被弹出。失败者被束缚并被包裹在水中。巨型或更大生物自动成功。</p><p>水球至多束缚 4 个中型或更小生物，或 1 个大型生物。你可以用动作移动水球至多 30 尺，被束缚生物随之移动。你可以用水球撞击生物迫使其豁免。法术结束时，水球坠落并消失，被束缚生物倒地。</p>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 预言系 (Divination)
  // ==========================================
  {
    id: 'arcane_eye',
    name: '奥术眼',
    level: 4,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '一点蝙蝠毛' },
    concentration: true,
    duration: '1 小时',
    target: '创造一个隐形眼睛',
    attackType: 'none',
    description: '<p>你在射程内创造一个隐形的魔法眼，它在法术持续期间悬浮在空中。</p><p>你在精神上接收来自奥术眼的视觉信息，它拥有普通视觉和 30 尺黑暗视觉。奥术眼可以全方位观察。</p><p>作为动作，你可以让奥术眼向任意方向移动至多 30 尺。它离你的距离没有限制，但不能跨越位面。固体障碍物会阻挡其移动，但它可以穿过直径小至 1 英寸的开口。</p>',
    scaling: '无',
    classes: ['wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'divination',
    name: '预言术',
    level: 4,
    school: 'divination',
    ritual: true,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '熏香和适合你宗教信仰的祭品，合计价值至少25gp，法术会消耗掉' },
    concentration: false,
    duration: '立即',
    target: '自身',
    attackType: 'none',
    description: '<p>你的魔法和祭品让你与神祇或其仆从建立联系。你针对一个将在 7 天内发生的特定目标、事件或活动提出一个问题。DM 会给予真实的答复。答复可能是一句短语、一段隐晦的韵文或一个预兆。</p><p>该法术不考虑任何可能改变结果的情况，例如施展额外法术或同伴的得失。</p><p>如果你在完成下一次长休前施展此法术两次或更多次，除第一次外，每次施法都有 25% 的累积几率获得随机读取结果（由 DM 暗骰决定）。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'wizard'], // TCE 加入法师
    cantripScaling: false
  },
  {
    id: 'locate_creature',
    name: '生物定位术',
    level: 4,
    school: 'divination',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一撮寻血猎犬的皮毛' },
    concentration: true,
    duration: '1 小时',
    target: '自身(1000尺半径)',
    attackType: 'none',
    description: '<p>描述或命名一个你熟悉的生物。只要该生物在你周围 1,000 尺内，你就能感知到它的方向。如果生物在移动，你知道其移动方向。</p><p>该法术可以定位你已知的特定生物，或者某种特定种类的最近生物（如一个人类或一只独角兽），只要你曾近距离（30尺内）见过该类生物至少一次。如果描述或命名的生物处于不同形态（如受<i>变形术</i>影响），则无法定位。</p><p>如果有至少 10 尺宽的流水阻断了你与生物之间的直接路径，该法术无法定位该生物。</p>',
    scaling: '无',
    classes: ['bard', 'cleric', 'druid', 'paladin', 'ranger', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 惑控系 (Enchantment)
  // ==========================================
  {
    id: 'raulothims_psychic_lance',
    name: '劳洛希姆心灵长矛',
    level: 4,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: false, m: null },
    concentration: false,
    duration: '立即',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'int',
    damage: '7d6',
    damageType: 'psychic',
    description: '<p>你从前额释放出一道闪烁的心灵能量长矛，射向射程内一个你可见的生物。或者，你可以说出一个生物的名字。如果该生物在射程内，即便你看不见它，它也会成为目标。若目标不在射程内，长矛消散。</p><p>目标必须进行智力豁免。失败者受到 7d6 点心灵伤害并陷入失能，直到你的下个回合开始。成功者伤害减半且不失能。</p>',
    scaling: '5环及以上(每高一环伤害+1d6)',
    classes: ['bard', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'charm_monster',
    name: '魅惑怪物',
    level: 4,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你试图魅惑射程内一个你可见的生物。它必须进行感知豁免，若你或你的同伴正在与它战斗，它具有优势。若失败，它被你魅惑，直到法术结束或你（或你同伴）对它做任何有害的事。被魅惑者对你友善。法术结束时，它知道自己曾被你魅惑。</p>',
    scaling: '5环及以上(每高一环多指定一个目标)',
    classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'compulsion',
    name: '强迫术',
    level: 4,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '见描述',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>射程内你可见且能听到你声音的生物必须进行感知豁免。免疫魅惑者自动成功。失败者受法术影响。直到法术结束，你可以在你的每回合用附赠动作指定一个水平方向。受术者在下一回合必须尽其所能向该方向移动。它可以在移动前执行动作。移动后，它可以再次进行感知豁免以结束效果。</p><p>目标不会被强迫进入明显的致命危险（如火坑），但会为了移动引发借机攻击。</p>',
    scaling: '无',
    classes: ['bard'],
    cantripScaling: false
  },
  {
    id: 'confusion',
    name: '困惑术',
    level: 4,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: '三个核桃壳' },
    concentration: true,
    duration: '1 分钟',
    target: '10尺半径球状区域',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>该法术攻击并扭曲生物的心智，引发妄想并激起不受控制的行为。射程内以你选择的一点为中心、半径 10 尺球状区域内的每个生物，在施法时必须进行一次感知豁免，失败则受该法术影响。</p><p>受影响的目标无法使用反应，且必须在它的每个回合开始时投掷一枚 d10 以决定它该回合的行为：</p><ul><li><b>1：</b>该生物利用其所有移动力向随机方向移动。为了确定方向，投掷一枚 d8，将 1 指定为北方。该生物不会让自己落入明显的危险中（如火焰或深坑）。</li><li><b>2-6：</b>该生物在这个回合内不采取任何动作。</li><li><b>7-8：</b>该生物利用其动作，对随机确定的、在其触及范围内的一个生物发动一次近战攻击。如果没有生物在触及范围内，该生物这回合什么也不做。</li><li><b>9-10：</b>该生物可以正常行动和移动。</li></ul><p>在受影响目标的每个回合结束时，它可以进行一次感知豁免。若成功，该法术对该目标结束。</p>',
    scaling: '当你使用 5 环或更高环阶的法术位施展此法术时，每比 4 环高一环，球状区域的半径增加 5 尺。',
    classes: ['bard', 'druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'dominate_beast',
    name: '支配野兽',
    level: 4,
    school: 'enchantment',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一只野兽',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你试图控制射程内一只你可见的野兽。它必须进行感知豁免，失败则被你魅惑。若你或同伴正在与它战斗，它具有优势。</p><p>当它被魅惑时，你们之间有心灵感应（需同位面）。你可以下达命令（无须动作），它会尽力执行。若无命令，它只会自卫。你可以用动作完全控制它，直到你下个回合结束，它只执行你选择的动作。</p><p>每当它受到伤害，它可再次进行感知豁免，成功则法术结束。</p>',
    scaling: '5环(专注10分钟), 6环(专注1小时), 7环及以上(专注8小时)',
    classes: ['druid', 'ranger', 'sorcerer'],
    cantripScaling: false
  },

  // ==========================================
  // 塑能系 (Evocation)
  // ==========================================
  {
    id: 'fire_shield',
    name: '火焰护盾',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一点磷或一只萤火虫' },
    concentration: false,
    duration: '10 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>稀薄的火焰环绕你的身体。你发出 10 尺半径明亮光照和额外 10 尺微暗光照。你可以用动作提前结束法术。</p><p>火焰为你提供暖盾或冷盾（由你选择）。<b>暖盾</b>赋予你冷冻伤害抗性，<b>冷盾</b>赋予你火焰伤害抗性。</p><p>此外，每当一个生物在你的 5 尺范围内用近战攻击命中你时，护盾爆发出火焰。攻击者受到 2d8 点火焰伤害（暖盾）或 2d8 点冷冻伤害（冷盾）。</p>',
    scaling: '无',
    classes: ['druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'ice_storm',
    name: '冰风暴',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '300 尺',
    components: { v: true, s: true, m: '一撮灰尘和几滴水' },
    concentration: false,
    duration: '立即',
    target: '20尺半径圆柱体',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '2d8+4d6',
    damageType: 'bludgeoning', // 混合 cold
    description: '<p>坚硬的冰雹从天而降，覆盖射程内一点周围半径 20 尺、高 40 尺的圆柱状区域。区域内的每个生物必须进行敏捷豁免。失败者受到 2d8 点钝击伤害和 4d6 点冷冻伤害，成功者减半。</p><p>冰雹使风暴区域变为困难地形，直到你的下个回合结束。</p>',
    scaling: '5环及以上(每高一环钝击伤害+1d8)',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'otilukes_resilient_sphere',
    name: '奥提路克弹力法球',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: '半球状透明水晶和匹配的半球状阿拉伯胶' },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物或物体(大型或更小)',
    attackType: 'save',
    saveAttr: 'dex',
    description: '<p>一个闪烁的力场球体包围射程内一个大型或更小的生物或物体。不愿意的生物必须进行一次敏捷豁免。若失败，该生物在法术持续期间被封闭在法球内。</p><p>任何东西——无论是物理物体、能量还是其他法术效应——都无法穿过法球屏障进出，但在球内的生物可以呼吸。法球免疫所有伤害，球内的生物或物体无法被来自外部的攻击或效果伤害，球内的生物也无法伤害外部的任何东西。</p><p>法球没有重量，且大小刚好能容纳其中的生物或物体。被封闭的生物可以使用其动作推动球壁，从而以至多该生物速度一半的速度滚动法球。同样地，其他生物也可以拿起并移动法球。</p><p>对法球施展<i>解离术 (Disintegrate)</i> 可以摧毁法球，且不会伤害其中的任何东西。</p>',
    scaling: '无',
    classes: ['wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'sickening_radiance',
    name: '致病光辉',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '30尺半径球状区域',
    attackType: 'save',
    saveAttr: 'con',
    damage: '4d10',
    damageType: 'radiant',
    description: '<p>微暗的绿光扩散至射程内一点周围 30 尺半径球状区域。光照绕过转角。</p><p>当生物在回合内首次进入该区域或在其中开始回合时，必须进行体质豁免。失败者受到 4d10 点光耀伤害，承受一级力竭（Exhaustion），并散发 5 尺半径微暗绿光。成功者受一半伤害，无其他效果。绿光使生物无法隐形。法术结束时，由此法术造成的光照和力竭等级消失。</p>',
    scaling: '无',
    classes: ['sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'staggering_smite',
    name: '惊骇斩',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '下一次武器攻击击中的生物',
    attackType: 'save',
    saveAttr: 'wis',
    damage: '4d6',
    damageType: 'psychic',
    description: '<p>在法术结束前，你下一次用近战武器攻击命中生物时，武器刺穿其身体和心灵。该次攻击造成额外 4d6 点心灵伤害。目标必须进行感知豁免。失败则在攻击检定和属性检定上具有劣势，且无法进行反应，直到其下个回合结束。</p>',
    scaling: '无',
    classes: ['paladin'],
    cantripScaling: false
  },
  {
    id: 'storm_sphere',
    name: '风暴球',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '150 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '20尺半径球状区域',
    attackType: 'ranged',
    description: '<p>一个 20 尺半径的旋风球体出现在射程内一点。球内生物出现时或在其中结束回合需进行力量豁免，失败受 2d6 点钝击伤害。球内为困难地形。</p><p>直到法术结束，你可以在你的每回合用附赠动作让一道闪电从球心射向球心 60 尺内的一个生物。进行远程法术攻击（若目标在球内具有优势）。命中造成 4d6 点闪电伤害。球体 30 尺内的生物在聆听的感知（察觉）检定上具有劣势。</p>',
    scaling: '5环及以上(钝击和闪电伤害各+1d6)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'vitriolic_sphere',
    name: '硫酸法球',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '150 尺',
    components: { v: true, s: true, m: '一滴巨型蛞蝓的胆汁' },
    concentration: false,
    duration: '立即',
    target: '20尺半径球状区域',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '10d4',
    damageType: 'acid',
    description: '<p>你指向射程内一点，一颗 1 尺直径的发光翠绿酸球飞向该处并爆炸成 20 尺半径球体。区域内每个生物必须进行敏捷豁免。失败者立即受到 10d4 点酸蚀伤害，并在其下个回合结束时再受 5d4 点酸蚀伤害。成功者只受一半初始伤害，无后续伤害。</p>',
    scaling: '5环及以上(初始伤害+2d4)',
    classes: ['sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'wall_of_fire',
    name: '火墙术',
    level: 4,
    school: 'evocation',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: '一小块磷' },
    concentration: true,
    duration: '1 分钟',
    target: '60尺长墙体或环状',
    attackType: 'save',
    saveAttr: 'dex',
    damage: '5d8',
    damageType: 'fire',
    description: '<p>你在射程内固体表面创造一道火墙。你可以造出长 60 尺、高 20 尺、厚 1 尺的墙，或直径 20 尺、高 20 尺、厚 1 尺的环形墙。墙是不透明的。</p><p>墙出现时，区域内生物必须进行敏捷豁免，失败受 5d8 点火焰伤害，成功减半。</p><p>施法时你指定墙的一侧为伤害侧。在伤害侧 10 尺内或墙内结束回合的生物受到 5d8 点火焰伤害。生物在回合内首次进入墙或在其中结束回合也会受此伤害。另一侧无伤害。</p>',
    scaling: '5环及以上(每高一环伤害+1d8)',
    classes: ['druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },

  // ==========================================
  // 幻术系 (Illusion)
  // ==========================================
  {
    id: 'greater_invisibility',
    name: '高等隐形术',
    level: 4,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'none',
    description: '<p>你或你触碰的一个生物变得隐形，持续直到法术结束。目标身上穿戴或携带的任何物品只要保持在身上，也随之隐形。（注：与普通隐形术不同，攻击或施法不会打断此法术。）</p>',
    scaling: '无',
    classes: ['bard', 'sorcerer', 'wizard'], // 暂不含奇械师
    cantripScaling: false
  },
  {
    id: 'hallucinatory_terrain',
    name: '幻景',
    level: 4,
    school: 'illusion',
    ritual: false,
    castingTime: '10 分钟',
    range: '300 尺',
    components: { v: true, s: true, m: '一块石头、一根嫩枝和一点绿色植物' },
    concentration: false,
    duration: '24 小时',
    target: '150尺立方区域',
    attackType: 'none',
    description: '<p>你使射程内 150 尺立方区域内的自然地形看起来、听起来和闻起来像另一种自然地形。例如，开阔平原或道路可以被伪装成沼泽、山丘、裂缝或其他困难或无法通行的地形；池塘可以被伪装成草地；悬崖可以被伪装成缓坡；布满岩石的沟壑可以被伪装成宽阔平坦的道路。</p><p>该区域内的人造建筑、装备和生物的外观不会改变。</p><p>地形的触觉特征保持不变，因此进入区域的生物可能会看穿幻觉。如果触觉差异不够明显，仔细检查幻觉的生物可以尝试进行一次智力（调查）检定对抗你的法术豁免 DC 以便不再相信它。如果一个生物识破了该幻觉，它会看到在其原本样貌上叠加的一层模糊影像。</p>',
    scaling: '无',
    classes: ['bard', 'druid', 'sorcerer', 'warlock', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'phantasmal_killer',
    name: '魅影杀手',
    level: 4,
    school: 'illusion',
    ritual: false,
    castingTime: '1 动作',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    damage: '4d10',
    damageType: 'psychic',
    description: '<p>你利用射程内一个你可见生物的噩梦，创造出只有它能看见的内心最深层恐惧的幻象。目标必须进行感知豁免。失败则在法术持续期间陷入恐慌。在法术结束前的目标每个回合结束时，它必须进行感知豁免，失败则受到 4d10 点心灵伤害，成功则法术结束。</p>',
    scaling: '5环及以上(每高一环伤害+1d10)',
    classes: ['wizard'], // 特定邪术师/奇械师
    cantripScaling: false
  },

  // ==========================================
  // 死灵系 (Necromancy)
  // ==========================================
  {
    id: 'blight',
    name: '枯萎术',
    level: 4,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '一个生物或植物',
    attackType: 'save',
    saveAttr: 'con',
    damage: '8d8',
    damageType: 'necrotic',
    description: '<p>死灵能量席卷射程内你可见的一个生物，吸取其水分和活力。目标必须进行体质豁免。失败者受到 8d8 点黯蚀伤害，成功者减半。此法术对不死生物和构装体无效。</p><p>若目标是植物生物或魔法植物，其豁免具有劣势，且法术对其造成满额伤害。</p><p>若目标是非魔法且非生物的植物（如树或灌木），它不进行豁免，直接枯萎死亡。</p>',
    scaling: '5环及以上(每高一环伤害+1d8)',
    classes: ['druid', 'sorcerer', 'warlock', 'wizard'], // 誓言破坏者圣武士 / 坟墓牧师
    cantripScaling: false
  },
  {
    id: 'shadow_of_moil',
    name: '莫尔之影',
    level: 4,
    school: 'necromancy',
    ritual: false,
    castingTime: '1 动作',
    range: '自身',
    components: { v: true, s: true, m: '一颗包裹在价值至少150gp宝石内的不死生物眼球' },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    damage: '2d8',
    damageType: 'necrotic',
    description: '<p>火焰般的阴影笼罩你的身体，直到法术结束，使你在他人眼中处于重度遮蔽状态（Heavy Obscured）。阴影将你周围 10 尺内的微暗光照变为黑暗，将明亮光照变为微暗光照。</p><p>直到法术结束，你对光耀伤害具有抗性。此外，每当一个生物在你周围 10 尺内用攻击命中你时，阴影会反击该生物，造成 2d8 点黯蚀伤害。</p>',
    scaling: '无',
    classes: ['warlock'],
    cantripScaling: false
  },

  // ==========================================
  // 变化系 (Transmutation)
  // ==========================================
  {
    id: 'control_water',
    name: '操控水体',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '300 尺',
    components: { v: true, s: true, m: '一滴水和一撮尘土' },
    concentration: true,
    duration: '10 分钟',
    target: '100尺立方水域',
    attackType: 'save',
    saveAttr: 'str',
    description: '<p>直到法术结束，你可以控制一片你选择的至多 100 尺立方的独立水域。施法时选择以下一种效果。作为你回合的动作，你可以重复该效果或选择不同效果：</p><ul><li><b>洪水 (Flood)</b>：使静止水域水位上升至多 20 尺。若有岸边则溢出。若在大片水域中，则制造 20 尺高的巨浪冲向另一侧。巨型或更小船只有 25% 几率倾覆。</li><li><b>分水 (Part Water)</b>：使水域分开形成沟槽。水在两侧形成水墙。沟槽持续至法术结束，之后水会在下一轮慢慢填满。</li><li><b>改道 (Redirect Flow)</b>：使流动水域流向你选择的方向，甚至翻越障碍或向上流。流出法术区域后恢复正常。</li><li><b>漩涡 (Whirlpool)</b>：需至少 50 尺见方、25 尺深的水域。在中心形成漩涡（顶宽 50 尺、底宽 5 尺、高 25 尺）。25 尺内的生物和物体被吸向漩涡。生物进入或开始回合需力量豁免，失败受 2d8 钝击伤害并被困住。物体每回合受 2d8 钝击伤害。</li></ul>',
    scaling: '无',
    classes: ['cleric', 'druid', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'elemental_bane',
    name: '元素灾厄',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '90 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'con',
    damage: '2d6',
    // damageType: 'varied', // 施法时选择
    description: '<p>选择射程内你可见的一个生物，并选择一种伤害类型：酸蚀、冷冻、火焰、闪电或雷鸣。目标必须进行体质豁免，失败则受法术影响。在受术目标的每回合中，当它第一次受到该类型伤害时，受到额外 2d6 点该类型伤害。此外，目标暂时失去对该伤害类型的抗性，直到法术结束。</p>',
    scaling: '5环及以上(每高一环多指定一个目标)',
    classes: ['druid', 'warlock', 'wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'fabricate',
    name: '鬼斧神工',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '10 分钟',
    range: '120 尺',
    components: { v: true, s: true, m: null },
    concentration: false,
    duration: '立即',
    target: '原材料',
    attackType: 'none',
    description: '<p>你将原材料转化为同种材料的产品（如树变桥、麻变绳、亚麻变衣服）。</p><p>选择射程内你可见的原材料。若原材料充足，你可以制作一个大型或更小的物体（10 尺立方内）。若使用金属、石头等矿物，只能制作中型或更小物体（5 尺立方内）。</p><p>无法制造生物或魔法物品。若制作需要高度工艺的物品（如珠宝、武器、盔甲），你需要具备相应的工匠工具熟练项。</p>',
    scaling: '无',
    classes: ['wizard'], // 奇械师
    cantripScaling: false
  },
  {
    id: 'giant_insect',
    name: '巨虫术',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '30 尺',
    components: { v: true, s: true, m: null },
    concentration: true,
    duration: '10 分钟',
    target: '昆虫',
    attackType: 'none',
    description: '<p>你将射程内至多十只蜈蚣、三只蜘蛛、五只黄蜂或一只蝎子变为其巨型形态（巨蜈蚣、巨蜘蛛、巨黄蜂、巨蝎）。</p><p>它们听从你的口头命令，并在战斗中于你的回合行动。若生命值降为 0 或你用动作解除，它们恢复原状。DM 可允许此法术影响其他类似生物（如蜜蜂变为巨黄蜂数据）。</p>',
    scaling: '无',
    classes: ['druid'],
    cantripScaling: false
  },
  {
    id: 'guardian_of_nature',
    name: '自然守卫',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 附赠动作',
    range: '自身',
    components: { v: true, s: false, m: null },
    concentration: true,
    duration: '1 分钟',
    target: '自身',
    attackType: 'none',
    description: '<p>一个自然精魂回应你的呼唤，将你转化为强大的守卫。选择一种形态：</p><ul><li><b>原始野兽 (Primal Beast)</b>：兽毛覆盖，面容狂野。步行速度增加 10 尺；获得 120 尺黑暗视觉；基于力量的攻击检定具有优势；近战武器攻击命中造成额外 1d6 点力场伤害。</li><li><b>巨树 (Great Tree)</b>：皮肤如树皮，头发长出树叶。获得 10 点临时生命值；体质豁免具有优势；基于敏捷和感知的攻击检定具有优势；你在地面时，周围 15 尺地面区域对敌人视为困难地形。</li></ul>',
    scaling: '无',
    classes: ['druid', 'ranger'],
    cantripScaling: false
  },
  {
    id: 'polymorph',
    name: '变形术',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '60 尺',
    components: { v: true, s: true, m: '一个毛虫茧' },
    concentration: true,
    duration: '1 小时',
    target: '一个生物',
    attackType: 'save',
    saveAttr: 'wis',
    description: '<p>你将射程内一个你可见的生物转变成一种新的形态。不愿意的生物可以进行一次感知豁免，若成功则不受该法术影响。此法术对变形生物（shapechanger）或生命值为 0 的生物无效。</p><p>变形持续至法术结束，或直到目标生命值降至 0 或死亡。新形态可以是任何挑战等级等于或低于目标挑战等级（或等级，如果目标没有挑战等级）的野兽。目标的游戏数据，包括精神属性，将被新形态的数据取代。目标保留其阵营和个性。</p><p>目标获得新形态的生命值。当它变回通常形态时，该生物恢复变形前的生命值。如果它是因生命值降至 0 而变回通常形态，溢出的伤害将由其通常形态承受。只要溢出的伤害没有将通常形态的生命值降至 0，它就不会陷入昏迷。</p><p>该生物受限于新形态及其肢体结构所能做出的动作，它无法说话、施法或采取任何其他需要双手或语言的动作。</p><p>目标的装备融入新形态。该生物无法激活、使用、挥舞或以其他方式受益于其任何装备。</p>',
    scaling: '无',
    classes: ['bard', 'druid', 'sorcerer', 'wizard'],
    cantripScaling: false
  },
  {
    id: 'stone_shape',
    name: '塑石术',
    level: 4,
    school: 'transmutation',
    ritual: false,
    castingTime: '1 动作',
    range: '触及',
    components: { v: true, s: true, m: '软黏土，需捏成大致形状' },
    concentration: false,
    duration: '立即',
    target: '石头物体或表面',
    attackType: 'none',
    description: '<p>你触碰一个中型或更小的石头物体，或一块不超过 5 尺见方的石面，将其塑造成你需要的形状。例如，你可以将大石块变成武器、神像或盒子，或在不超过 5 尺厚的墙上开个通道。你可以制作带铰链和门闩的石门，但无法制作精细机械结构。</p>',
    scaling: '无',
    classes: ['cleric', 'druid', 'wizard'], // 奇械师
    cantripScaling: false
  }

];